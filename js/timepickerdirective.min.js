var m=angular.module("ui.timepicker",[]);m.value("uiTimepickerConfig",{step:15}),m.directive("uiTimepicker",["uiTimepickerConfig","$parse","$window",function(e,i,n){var r=n.moment,t=function(e){return void 0!==r&&r.isMoment(e)&&e.isValid()},u=function(e){return null!==e&&(angular.isDate(e)||t(e))};return{restrict:"A",require:"ngModel",scope:{ngModel:"=",baseDate:"=",uiTimepicker:"="},priority:1,link:function(i,n,o,a){"use strict";var c=angular.copy(e),l=c.asMoment||!1;delete c.asMoment,a.$render=function(){var e=a.$modelValue;if(angular.isDefined(e)){if(null!==e&&""!==e&&!u(e))throw new Error("ng-Model value must be a Date or Moment object - currently it is a "+typeof e+".");t(e)&&(e=e.toDate()),n.is(":focus")||p()||n.timepicker("setTime",e),null===e&&m()}},i.$watch("ngModel",function(){a.$render()},!0),c.appendTo=c.appendTo||n.parent(),n.timepicker(angular.extend(c,i.uiTimepicker?i.uiTimepicker:{}));var m=function(){n.timepicker("setTime",null)},s=function(){return n.val().trim()},p=function(){return s()&&null===a.$modelValue};n.on("$destroy",function(){n.timepicker("remove")});var f=function(){var e=a.$modelValue?a.$modelValue:i.baseDate;return t(e)?e.toDate():e},d=function(e){return l?r(e):e};n.is("input")?(a.$parsers.unshift(function(e){var i=n.timepicker("getTime",f());return i?d(i):i}),a.$validators.time=function(e){return o.required||s()?u(e):!0}):n.on("changeTime",function(){i.$evalAsync(function(){var e=n.timepicker("getTime",f());a.$setViewValue(e)})})}}}]);