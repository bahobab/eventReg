function initAutocomplete(){autocomplete=new google.maps.places.Autocomplete(document.getElementById("eventLocation"),{types:["geocode"]}),placeSearch=new google.maps.places.Autocomplete(document.getElementById("eventHost"),{types:["geocode"]})}function fillInAddress(){var e=autocomplete.getPlace();for(var t in componentForm)document.getElementById(t).value="",document.getElementById(t).disabled=!1;for(var i=0;i<e.address_components.length;i++){var a=e.address_components[i].types[0];if(componentForm[a]){var n=e.address_components[i][componentForm[a]];document.getElementById(a).value=n}}}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude},i=new google.maps.Circle({center:t,radius:e.coords.accuracy});autocomplete.setBounds(i.getBounds())})}function initAutocomplete(){autocomplete=new google.maps.places.Autocomplete(document.getElementById("eventLocation"),{types:["geocode"]}),placeSearch=new google.maps.places.Autocomplete(document.getElementById("eventHost"),{types:["geocode"]})}function fillInAddress(){var e=autocomplete.getPlace();for(var t in componentForm)document.getElementById(t).value="",document.getElementById(t).disabled=!1;for(var i=0;i<e.address_components.length;i++){var a=e.address_components[i].types[0];if(componentForm[a]){var n=e.address_components[i][componentForm[a]];document.getElementById(a).value=n}}}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude},i=new google.maps.Circle({center:t,radius:e.coords.accuracy});autocomplete.setBounds(i.getBounds())})}!function(e,t){"use strict";var i=864e5,a=function(){return t.userAgent&&(t.userAgent.match(/Android/i)||t.userAgent.match(/webOS/i)||t.userAgent.match(/iPhone/i)||t.userAgent.match(/iPad/i)||t.userAgent.match(/iPod/i)||t.userAgent.match(/BlackBerry/i)||t.userAgent.match(/Windows Phone/i))?!0:void 0}(),n=function(e,t){return a?['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="month" title="{{ dateMonthTitle }}" ng-change="selectedMonthHandle(month)">','<option ng-repeat="item in months" ng-selected="item === month" ng-disabled=\'!isSelectableMaxDate(item + " " + day + ", " + year) || !isSelectableMinDate(item + " " + day + ", " + year)\' ng-value="$index + 1" value="$index + 1">',"{{ item }}","</option>","</select>","</div>","</div>",'<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="mobileYear" title="{{ dateYearTitle }}" ng-change="setNewYear(mobileYear)">','<option ng-repeat="item in paginationYears track by $index" ng-selected="year === item" ng-disabled="!isSelectableMinYear(item) || !isSelectableMaxYear(item)" ng-value="item" value="item">',"{{ item }}","</option>","</select>","</div>","</div>"]:['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-left">','<a class="_720kb-datepicker-calendar-month-button" href="javascript:void(0)" ng-class="{\'_720kb-datepicker-item-hidden\': !willPrevMonthBeSelectable()}" ng-click="prevMonth()" title="{{ buttonPrevTitle }}">',e,"</a>","</div>",'<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-calendar-month">',"{{month}}&nbsp;",'<a href="javascript:void(0)" ng-click="paginateYears(year); showYearsPagination = !showYearsPagination;">',"<span>","{{year}}","<i ng-class=\"{'_720kb-datepicker-calendar-header-closed-pagination': !showYearsPagination, '_720kb-datepicker-calendar-header-opened-pagination': showYearsPagination}\"></i>","</span>","</a>","</div>",'<div class="_720kb-datepicker-calendar-header-right">','<a class="_720kb-datepicker-calendar-month-button" ng-class="{\'_720kb-datepicker-item-hidden\': !willNextMonthBeSelectable()}" href="javascript:void(0)" ng-click="nextMonth()" title="{{ buttonNextTitle }}">',t,"</a>","</div>","</div>"]},s=function(e,t){return['<div class="_720kb-datepicker-calendar-header" ng-show="showYearsPagination">','<div class="_720kb-datepicker-calendar-years-pagination">','<a ng-class="{\'_720kb-datepicker-active\': y === year, \'_720kb-datepicker-disabled\': !isSelectableMaxYear(y) || !isSelectableMinYear(y)}" href="javascript:void(0)" ng-click="setNewYear(y)" ng-repeat="y in paginationYears track by $index">',"{{y}}","</a>","</div>",'<div class="_720kb-datepicker-calendar-years-pagination-pages">','<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[0])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsPrevDisabled}">',e,"</a>",'<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[paginationYears.length -1 ])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsNextDisabled}">',t,"</a>","</div>","</div>"]},r=function(){return['<div class="_720kb-datepicker-calendar-days-header">','<div ng-repeat="d in daysInString">',"{{d}}","</div>","</div>"]},o=function(){return['<div class="_720kb-datepicker-calendar-body">','<a href="javascript:void(0)" ng-repeat="px in prevMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{px}}","</a>","<a href=\"javascript:void(0)\" ng-repeat=\"item in days\" ng-click=\"setDatepickerDay(item)\" ng-class=\"{'_720kb-datepicker-active': day === item, '_720kb-datepicker-disabled': !isSelectableMinDate(year + '/' + monthNumber + '/' + item ) || !isSelectableMaxDate(year + '/' + monthNumber + '/' + item) || !isSelectableDate(monthNumber, year, item)}\" class=\"_720kb-datepicker-calendar-day\">","{{item}}","</a>",'<a href="javascript:void(0)" ng-repeat="nx in nextMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{nx}}","</a>","</div>"]},l=function(e,t){var i=['<div class="_720kb-datepicker-calendar {{datepickerClass}} {{datepickerID}}" ng-class="{\'_720kb-datepicker-forced-to-open\': checkVisibility()}" ng-blur="hideCalendar()">',"</div>"],a=n(e,t),l=s(e,t),d=r(),h=o(),c=function(e){i.splice(i.length-1,0,e)};return a.forEach(c),l.forEach(c),d.forEach(c),h.forEach(c),i.join("")},d=function(t,n,s,r,o){var d=function(d,h,c){var u,p,m=c.selector,f=e.element(m?h[0].querySelector("."+m):h[0].children[0]),g='<b class="_720kb-datepicker-default-button">&lang;</b>',v='<b class="_720kb-datepicker-default-button">&rang;</b>',D=c.buttonPrev||g,y=c.buttonNext||v,k=c.dateFormat,T=d.$eval(d.dateDisabledDates),w=new Date,b=!1,M=!1,C=s.DATETIME_FORMATS,_=864e5,S=l(D,y),I=function(){b||M||!u||d.hideCalendar()},E=function(){d.month=r("date")(new Date(d.dateMinLimit),"MMMM"),d.monthNumber=Number(r("date")(new Date(d.dateMinLimit),"MM")),d.day=Number(r("date")(new Date(d.dateMinLimit),"dd")),d.year=Number(r("date")(new Date(d.dateMinLimit),"yyyy"))},x=function(){d.month=r("date")(new Date(d.dateMaxLimit),"MMMM"),d.monthNumber=Number(r("date")(new Date(d.dateMaxLimit),"MM")),d.day=Number(r("date")(new Date(d.dateMaxLimit),"dd")),d.year=Number(r("date")(new Date(d.dateMaxLimit),"yyyy"))},N=function(){d.year=Number(d.year)-1},U=function(){d.year=Number(d.year)+1},F=function(){if(!d.isSelectableMinDate(d.year+"/"+d.monthNumber+"/"+d.day)||!d.isSelectableMaxDate(d.year+"/"+d.monthNumber+"/"+d.day))return!1;var e=new Date(d.year+"/"+d.monthNumber+"/"+d.day);c.dateFormat?f.val(r("date")(e,k)):f.val(e),f.triggerHandler("input"),f.triggerHandler("change")},Y={add:function(e,t){var i;e.className.indexOf(t)>-1||(i=e.className.split(" "),i.push(t),e.className=i.join(" "))},remove:function(e,t){var i,a;if(-1!==e.className.indexOf(t)){for(a=e.className.split(" "),i=0;i<a.length;i+=1)if(a[i]===t){a=a.slice(0,i).concat(a.slice(i+1));break}e.className=a.join(" ")}}},$=function(){p=t.document.getElementsByClassName("_720kb-datepicker-calendar"),e.forEach(p,function(e,t){p[t].classList?p[t].classList.remove("_720kb-datepicker-open"):Y.remove(p[t],"_720kb-datepicker-open")}),u.classList?u.classList.add("_720kb-datepicker-open"):Y.add(u,"_720kb-datepicker-open")},A=function(){return d.datepickerToggle?d.$eval(d.datepickerToggle):!0},O=function(){return d.datepickerShow?d.$eval(d.datepickerShow):!1},V=function(e,t){var i,a,n,s,r=new Date(t,e,0).getDate(),o=new Date(t+"/"+e+"/1").getDay(),l=new Date(t+"/"+e+"/"+r).getDay(),h=[],c=[];for(d.days=[],i=1;r>=i;i+=1)d.days.push(i);if(0===o)d.prevMonthDays=[];else{for(n=o,s=1===Number(e)?12:e-1,i=1;i<=new Date(t,s,0).getDate();i+=1)h.push(i);d.prevMonthDays=h.slice(-n)}if(6>l){for(a=6-l,i=1;a>=i;i+=1)c.push(i);d.nextMonthDays=c}else d.nextMonthDays=[]},H=d.$watch("dateSet",function(e){e&&(w=new Date(e),d.month=r("date")(w,"MMMM"),d.monthNumber=Number(r("date")(w,"MM")),d.day=Number(r("date")(w,"dd")),d.year=Number(r("date")(w,"yyyy")),V(d.monthNumber,d.year),"true"!==d.dateSetHidden&&F())});d.nextMonth=function(){12===d.monthNumber?(d.monthNumber=1,U()):d.monthNumber+=1,d.dateMaxLimit&&(d.isSelectableMaxDate(d.year+"/"+d.monthNumber+"/"+d.days[0])||x()),d.month=r("date")(new Date(d.year,d.monthNumber-1),"MMMM"),V(d.monthNumber,d.year),d.day=void 0},d.willPrevMonthBeSelectable=function(){var e=d.monthNumber,t=d.year,i=r("date")(new Date(new Date(t+"/"+e+"/01").getTime()-_),"dd");return 1===e?(e=12,t-=1):e-=1,!d.dateMinLimit||d.isSelectableMinDate(t+"/"+e+"/"+i)},d.willNextMonthBeSelectable=function(){var e=d.monthNumber,t=d.year;return 12===e?(e=1,t+=1):e+=1,!d.dateMaxLimit||d.isSelectableMaxDate(t+"/"+e+"/01")},d.prevMonth=function(){1===d.monthNumber?(d.monthNumber=12,N()):d.monthNumber-=1,d.dateMinLimit&&(d.isSelectableMinDate(d.year+"/"+d.monthNumber+"/"+d.days[d.days.length-1])||E()),d.month=r("date")(new Date(d.year,d.monthNumber-1),"MMMM"),V(d.monthNumber,d.year),d.day=void 0},d.selectedMonthHandle=function(e){d.monthNumber=Number(r("date")(new Date(e+"/01/2000"),"MM")),V(d.monthNumber,d.year),F()},d.setNewYear=function(e){if(a||(d.day=void 0),d.dateMaxLimit&&d.year<Number(e)){if(!d.isSelectableMaxYear(e))return}else if(d.dateMinLimit&&d.year>Number(e)&&!d.isSelectableMinYear(e))return;d.year=Number(e),V(d.monthNumber,d.year),d.paginateYears(e),d.showYearsPagination=!1},d.hideCalendar=function(){u.classList?u.classList.remove("_720kb-datepicker-open"):Y.remove(u,"_720kb-datepicker-open")},d.setDatepickerDay=function(e){d.isSelectableDate(d.monthNumber,d.year,e)&&d.isSelectableMaxDate(d.year+"/"+d.monthNumber+"/"+e)&&d.isSelectableMinDate(d.year+"/"+d.monthNumber+"/"+e)&&(d.day=Number(e),F(),c.hasOwnProperty("dateRefocus")&&f[0].focus(),d.hideCalendar())},d.paginateYears=function(e){var t,i=[],n=10,s=10;for(d.paginationYears=[],a&&(n=50,s=50,d.dateMinLimit&&d.dateMaxLimit&&(e=new Date(d.dateMaxLimit).getFullYear(),n=e-new Date(d.dateMinLimit).getFullYear(),s=1)),t=n;t>0;t-=1)i.push(Number(e)-t);for(t=0;s>t;t+=1)i.push(Number(e)+t);"true"===d.dateTyper&&f.on("keyup blur",function(){if(f[0].value&&f[0].value.length&&f[0].value.length>0)try{w=new Date(f[0].value.toString()),w.getFullYear()&&!isNaN(w.getDay())&&!isNaN(w.getMonth())&&d.isSelectableDate(w)&&d.isSelectableMaxDate(w)&&d.isSelectableMinDate(w)&&d.$apply(function(){d.month=r("date")(w,"MMMM"),d.monthNumber=Number(r("date")(w,"MM")),d.day=Number(r("date")(w,"dd")),4===w.getFullYear().toString().length&&(d.year=Number(r("date")(w,"yyyy"))),V(d.monthNumber,d.year)})}catch(e){return e}}),d.dateMaxLimit&&i&&i.length&&!d.isSelectableMaxYear(Number(i[i.length-1])+1)?d.paginationYearsNextDisabled=!0:d.paginationYearsNextDisabled=!1,d.dateMinLimit&&i&&i.length&&!d.isSelectableMinYear(Number(i[0])-1)?d.paginationYearsPrevDisabled=!0:d.paginationYearsPrevDisabled=!1,d.paginationYears=i},d.isSelectableDate=function(e,t,i){var a=0;if(T&&T.length>0)for(a;a<=T.length;a+=1)if(new Date(T[a]).getTime()===new Date(e+"/"+i+"/"+t).getTime())return!1;return!0},d.isSelectableMinDate=function(e){return!(d.dateMinLimit&&new Date(d.dateMinLimit)&&new Date(e).getTime()<new Date(d.dateMinLimit).getTime())},d.isSelectableMaxDate=function(e){return!(d.dateMaxLimit&&new Date(d.dateMaxLimit)&&new Date(e).getTime()>new Date(d.dateMaxLimit).getTime())},d.isSelectableMaxYear=function(e){return!(d.dateMaxLimit&&e>new Date(d.dateMaxLimit).getFullYear())},d.isSelectableMinYear=function(e){return!(d.dateMinLimit&&e<new Date(d.dateMinLimit).getFullYear())},S=S.replace(/{{/g,o.startSymbol()).replace(/}}/g,o.endSymbol()),d.dateMonthTitle=d.dateMonthTitle||"Select month",d.dateYearTitle=d.dateYearTitle||"Select year",d.buttonNextTitle=d.buttonNextTitle||"Next",d.buttonPrevTitle=d.buttonPrevTitle||"Prev",d.month=r("date")(w,"MMMM"),d.monthNumber=Number(r("date")(w,"MM")),d.day=Number(r("date")(w,"dd")),d.dateMaxLimit?d.year=Number(r("date")(new Date(d.dateMaxLimit),"yyyy")):d.year=Number(r("date")(w,"yyyy")),d.months=C.MONTH,d.daysInString=["0","1","2","3","4","5","6"].map(function(e){return r("date")(new Date(new Date("06/08/2014").valueOf()+i*e),"EEE")}),d.datepickerAppendTo&&-1!==d.datepickerAppendTo.indexOf(".")?(d.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),e.element(document.getElementsByClassName(d.datepickerAppendTo.replace(".",""))[0]).append(n(e.element(S))(d,function(t){u=e.element(t)[0]}))):d.datepickerAppendTo&&-1!==d.datepickerAppendTo.indexOf("#")?(d.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),e.element(document.getElementById(d.datepickerAppendTo.replace("#",""))).append(n(e.element(S))(d,function(t){u=e.element(t)[0]}))):d.datepickerAppendTo&&"body"===d.datepickerAppendTo?(d.datepickerID="datepicker-id-"+((new Date).getTime()+(Math.floor(6*Math.random())+8)),e.element(document).find("body").append(n(e.element(S))(d,function(t){u=e.element(t)[0]}))):(f.after(n(e.element(S))(d)),u=h[0].querySelector("._720kb-datepicker-calendar")),A()&&f.on("focus click focusin",function(){M=!0,b||M||!u?$():d.hideCalendar()}),f.on("focusout blur",function(){M=!1}),e.element(u).on("mouseenter",function(){b=!0}),e.element(u).on("mouseleave",function(){b=!1}),e.element(u).on("focusin",function(){b=!0}),e.element(t).on("click focus focusin",I),(d.dateMinLimit&&!d.isSelectableMinYear(d.year)||!d.isSelectableMinDate(d.year+"/"+d.monthNumber+"/"+d.day))&&E(),(d.dateMaxLimit&&!d.isSelectableMaxYear(d.year)||!d.isSelectableMaxDate(d.year+"/"+d.monthNumber+"/"+d.day))&&x(),d.paginateYears(d.year),V(d.monthNumber,d.year),d.checkVisibility=O,d.$on("$destroy",function(){H(),f.off("focus click focusout blur"),e.element(u).off("mouseenter mouseleave focusin"),e.element(t).off("click focus focusin",I)})};return{restrict:"AEC",scope:{dateSet:"@",dateMinLimit:"@",dateMaxLimit:"@",dateMonthTitle:"@",dateYearTitle:"@",buttonNextTitle:"@",buttonPrevTitle:"@",dateDisabledDates:"@",dateSetHidden:"@",dateTyper:"@",datepickerAppendTo:"@",datepickerToggle:"@",datepickerClass:"@",datepickerShow:"@"},link:d}};e.module("720kb.datepicker",[]).directive("datepicker",["$window","$compile","$locale","$filter","$interpolate",d])}(angular,navigator),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function n(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function s(e){return function(){return this[e].apply(this,arguments)}}function r(e){return e&&!isNaN(e.getTime())}function o(t,i){function a(e,t){return t.toLowerCase()}var n,s=e(t).data(),r={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in s)i.test(l)&&(n=l.replace(o,a),r[n]=s[l]);return r}function l(t){var i={};if(g[t]||(t=t.split("-")[0],g[t])){var a=g[t];return e.each(f,function(e,t){t in a&&(i[t]=a[t])}),i}}var d=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,a=this.length;a>i;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new d;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),h=function(t,i){e(t).data("datepicker",this),this._process_options(i),this.dates=new d,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=e(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_resolveViewName:function(e,i){return 0===e||"days"===e||"month"===e?0:1===e||"months"===e||"year"===e?1:2===e||"years"===e||"decade"===e?2:3===e||"decades"===e||"century"===e?3:4===e||"centuries"===e||"millennium"===e?4:i===t?!1:i},_check_template:function(i){try{if(i===t||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var a=e(i);return a.length>0}catch(n){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),s=n.language;g[s]||(s=s.split("-")[0],g[s]||(s=m.language)),n.language=s,n.startView=this._resolveViewName(n.startView,0),n.minViewMode=this._resolveViewName(n.minViewMode,0),n.maxViewMode=this._resolveViewName(n.maxViewMode,4),n.startView=Math.min(n.startView,n.maxViewMode),n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate!==!1&&(n.multidate=Math.max(0,n.multidate))),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=v.parseFormat(n.format);n.startDate!==-(1/0)&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=v.parseDate(n.startDate,r,n.language,n.assumeNearbyYear):n.startDate=-(1/0)),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=v.parseDate(n.endDate,r,n.language,n.assumeNearbyYear):n.endDate=1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)}),n.daysOfWeekHighlighted=n.daysOfWeekHighlighted||[],e.isArray(n.daysOfWeekHighlighted)||(n.daysOfWeekHighlighted=n.daysOfWeekHighlighted.split(/[,\s]*/)),n.daysOfWeekHighlighted=e.map(n.daysOfWeekHighlighted,function(e){return parseInt(e,10)}),n.datesDisabled=n.datesDisabled||[],e.isArray(n.datesDisabled)||(n.datesDisabled=[n.datesDisabled]),n.datesDisabled=e.map(n.datesDisabled,function(e){return v.parseDate(e,r,n.language,n.assumeNearbyYear)});var o=String(n.orientation).toLowerCase().split(/\s+/g),l=n.orientation.toLowerCase();if(o=e.grep(o,function(e){return/^auto|left|right|top|bottom$/.test(e)}),n.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===o.length)switch(o[0]){case"top":case"bottom":n.orientation.y=o[0];break;case"left":case"right":n.orientation.x=o[0]}else l=e.grep(o,function(e){return/^left|right$/.test(e)}),n.orientation.x=l[0]||"auto",l=e.grep(o,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=l[0]||"auto";if(n.defaultViewDate){var d=n.defaultViewDate.year||(new Date).getFullYear(),h=n.defaultViewDate.month||0,c=n.defaultViewDate.day||1;n.defaultViewDate=i(d,h,c)}else n.defaultViewDate=a()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var i,a,n,s=0;s<e.length;s++)i=e[s][0],2===e[s].length?(a=t,n=e[s][1]):3===e[s].length&&(a=e[s][1],n=e[s][2]),i.on(n,a)},_unapplyEvents:function(e){for(var i,a,n,s=0;s<e.length;s++)i=e[s][0],2===e[s].length?(n=t,a=e[s][1]):3===e[s].length&&(n=e[s][1],a=e[s][2]),i.off(a,n)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.inputField,t],[this.component,{click:e.proxy(this.show,this)}]]:this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var a=i||this.dates.get(-1),n=this._utc_to_local(a);this.element.trigger({type:t,date:n,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return v.formatDate(i,t,this.o.language)},this)})},show:function(){return this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this)},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==e.inArray("text/plain",t.originalEvent.clipboardData.types))i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),t.preventDefault()},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),remove:s("destroy"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var a=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,i,a)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),a=10,n=e(this.o.container),s=n.width(),r="body"===this.o.container?e(document).scrollTop():n.scrollTop(),o=n.offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var d=Math.max.apply(Math,l)+this.o.zIndexOffset,h=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=h.left-o.left,m=h.top-o.top;"body"!==this.o.container&&(m+=r),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-u)):h.left<0?(this.picker.addClass("datepicker-orient-left"),p-=h.left-a):p+t>s?(this.picker.addClass("datepicker-orient-right"),p+=u-t):this.picker.addClass("datepicker-orient-left");var f,g=this.o.orientation.y;if("auto"===g&&(f=-r+m-i,g=0>f?"bottom":"top"),this.picker.addClass("datepicker-orient-"+g),"top"===g?m-=i+parseInt(this.picker.css("padding-top")):m+=c,this.o.rtl){var v=s-(p+u);this.picker.css({top:m,right:v,zIndex:d})}else this.picker.css({top:m,left:p,zIndex:d});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],a=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),a=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=e.grep(i,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,a?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var t=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1}),i+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)i+='<th class="dow',e.inArray(t,this.o.daysOfWeekDisabled)>-1&&(i+=" disabled"),i+='">'+g[this.o.language].daysMin[t++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",i=0;12>i;){var a=e&&e.getMonth()===i?" focused":"";t+='<span class="month'+a+'">'+g[this.o.language].monthsShort[i++]+"</span>"}this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],a=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s=new Date;return t.getUTCFullYear()<a||t.getUTCFullYear()===a&&t.getUTCMonth()<n?i.push("old"):(t.getUTCFullYear()>a||t.getUTCFullYear()===a&&t.getUTCMonth()>n)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===s.getFullYear()&&t.getUTCMonth()===s.getMonth()&&t.getUTCDate()===s.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,a,n,s,r,o,l,d){var h,c,u,p,m,f,g,v,D,y,k;for(h="",c=this.picker.find(i),u=parseInt(r/n,10)*n,m=parseInt(o/s,10)*s,f=parseInt(l/s,10)*s,p=e.map(this.dates,function(e){return parseInt(e.getUTCFullYear()/s,10)*s}),c.find(".datepicker-switch").text(u+"-"+(u+9*s)),g=u-s,v=-1;11>v;v+=1)D=[a],y=null,-1===v?D.push("old"):10===v&&D.push("new"),-1!==e.inArray(g,p)&&D.push("active"),(m>g||g>f)&&D.push("disabled"),g===this.viewDate.getFullYear()&&D.push("focused"),d!==e.noop&&(k=d(new Date(g,0,1)),k===t?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&D.push("disabled"),k.classes&&(D=D.concat(k.classes.split(/\s+/))),k.tooltip&&(y=k.tooltip)),h+='<span class="'+D.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+g+"</span>",g+=s;c.find("td").html(h)},fill:function(){var a,n,s=new Date(this.viewDate),r=s.getUTCFullYear(),o=s.getUTCMonth(),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),d=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=g[this.o.language].today||g.en.today||"",p=g[this.o.language].clear||g.en.clear||"",m=g[this.o.language].titleFormat||g.en.titleFormat;if(!isNaN(r)&&!isNaN(o)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(s,m,this.o.language)),
this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var f=i(r,o-1,28),D=v.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(D),f.setUTCDate(D-(f.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(f);f.getUTCFullYear()<100&&y.setUTCFullYear(f.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var k,T=[];f.valueOf()<y;){if(f.getUTCDay()===this.o.weekStart&&(T.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),b=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),M=new Date(Number(M=i(b.getUTCFullYear(),0,1))+(11-M.getUTCDay())%7*864e5),C=(b-M)/864e5/7+1;T.push('<td class="cw">'+C+"</td>")}k=this.getClassNames(f),k.push("day"),this.o.beforeShowDay!==e.noop&&(n=this.o.beforeShowDay(this._utc_to_local(f)),n===t?n={}:"boolean"==typeof n?n={enabled:n}:"string"==typeof n&&(n={classes:n}),n.enabled===!1&&k.push("disabled"),n.classes&&(k=k.concat(n.classes.split(/\s+/))),n.tooltip&&(a=n.tooltip)),k=e.unique(k),T.push('<td class="'+k.join(" ")+'"'+(a?' title="'+a+'"':"")+(this.o.dateCells?' data-date="'+f.getTime().toString()+'"':"")+">"+f.getUTCDate()+"</td>"),a=null,f.getUTCDay()===this.o.weekEnd&&T.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(T.join(""));var _=g[this.o.language].monthsTitle||g.en.monthsTitle||"Months",S=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?_:r).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===r&&S.eq(t.getUTCMonth()).addClass("active")}),(l>r||r>h)&&S.addClass("disabled"),r===l&&S.slice(0,d).addClass("disabled"),r===h&&S.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var I=this;e.each(S,function(i,a){var n=new Date(r,i,1),s=I.o.beforeShowMonth(n);s===t?s={}:"boolean"==typeof s?s={enabled:s}:"string"==typeof s&&(s={classes:s}),s.enabled!==!1||e(a).hasClass("disabled")||e(a).addClass("disabled"),s.classes&&e(a).addClass(s.classes),s.tooltip&&e(a).prop("title",s.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,r,l,h,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,r,l,h,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,r,l,h,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").addClass("disabled"):this.picker.find(".prev").removeClass("disabled"),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").addClass("disabled"):this.picker.find(".next").removeClass("disabled");break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").addClass("disabled"):this.picker.find(".prev").removeClass("disabled"),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").addClass("disabled"):this.picker.find(".next").removeClass("disabled")}}},click:function(t){t.preventDefault(),t.stopPropagation();var n,s,r,o,l,d,h;n=e(t.target),n.hasClass("datepicker-switch")&&this.showMode(1);var c=n.closest(".prev, .next");c.length>0&&(s=v.modes[this.viewMode].navStep*(c.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),n.hasClass("today")&&!n.hasClass("day")&&(this.showMode(-2),this._setDate(a(),"linked"===this.o.todayBtn?null:"view")),n.hasClass("clear")&&this.clearDates(),n.hasClass("disabled")||(n.hasClass("day")&&(r=parseInt(n.text(),10)||1,o=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),n.hasClass("old")&&(0===l?(l=11,o-=1,d=!0,h=!0):(l-=1,d=!0)),n.hasClass("new")&&(11===l?(l=0,o+=1,d=!0,h=!0):(l+=1,d=!0)),this._setDate(i(o,l,r)),h&&this._trigger("changeYear",this.viewDate),d&&this._trigger("changeMonth",this.viewDate)),n.hasClass("month")&&(this.viewDate.setUTCDate(1),r=1,l=n.parent().find("span").index(n),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(l),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(i(o,l,r)),this.showMode()):this.showMode(-1),this.fill()),(n.hasClass("year")||n.hasClass("decade")||n.hasClass("century"))&&(this.viewDate.setUTCDate(1),r=1,l=0,o=parseInt(n.text(),10)||0,this.viewDate.setUTCFullYear(o),n.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(o,l,r))),n.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(i(o,l,r))),n.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(i(o,l,r))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var i=new Date(e);return i.setUTCDate(e.getUTCDate()+t),i},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!r(e))return this.o.defaultViewDate;if(!t)return e;var i,a,n=new Date(e.valueOf()),s=n.getUTCDate(),o=n.getUTCMonth(),l=Math.abs(t);if(t=t>0?1:-1,1===l)a=-1===t?function(){return n.getUTCMonth()===o}:function(){return n.getUTCMonth()!==i},i=o+t,n.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var d=0;l>d;d++)n=this.moveMonth(n,t);i=n.getUTCMonth(),n.setUTCDate(s),a=function(){return i!==n.getUTCMonth()}}for(;a();)n.setUTCDate(--s),n.setUTCMonth(i);return n},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,i){do{if(e=this[i](e,t),!this.dateWithinRange(e))return!1;i="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return n(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void((40===e.keyCode||27===e.keyCode)&&(this.show(),e.stopPropagation()));var t,i,a=!1,n=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(i=this.moveAvailableDate(n,t,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveAvailableDate(n,t,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):37===e.keyCode||39===e.keyCode?i=this.moveAvailableDate(n,t,"moveDay"):this.weekOfDateIsDisabled(n)||(i=this.moveAvailableDate(n,t,"moveWeek")):1===this.viewMode?((38===e.keyCode||40===e.keyCode)&&(t=4*t),i=this.moveAvailableDate(n,t,"moveMonth")):2===this.viewMode&&((38===e.keyCode||40===e.keyCode)&&(t=4*t),i=this.moveAvailableDate(n,t,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;n=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(n),a=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}a&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var c=function(t,i){e(t).data("datepicker",this),this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,p.call(e(this.inputs),i).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=e(t.target).data("datepicker");if("undefined"!=typeof i){var a=i.getUTCDate(),n=e.inArray(t.target,this.inputs),s=n-1,r=n+1,o=this.inputs.length;if(-1!==n){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(a)}),a<this.dates[s])for(;s>=0&&a<this.dates[s];)this.pickers[s--].setUTCDate(a);else if(a>this.dates[r])for(;o>r&&a>this.dates[r];)this.pickers[r++].setUTCDate(a);this.updateDates(),delete this.updating}}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var u=e.fn.datepicker,p=function(i){var a=Array.apply(null,arguments);a.shift();var n;if(this.each(function(){var t=e(this),s=t.data("datepicker"),r="object"==typeof i&&i;if(!s){var d=o(this,"date"),u=e.extend({},m,d,r),p=l(u.language),f=e.extend({},m,p,d,r);t.hasClass("input-daterange")||f.inputs?(e.extend(f,{inputs:f.inputs||t.find("input").toArray()}),s=new c(this,f)):s=new h(this,f),t.data("datepicker",s)}"string"==typeof i&&"function"==typeof s[i]&&(n=s[i].apply(s,a))}),n===t||n instanceof h||n instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return n};e.fn.datepicker=p;var m=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,dateCells:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},f=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=h;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,v.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\x00").split("\x00"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(n,s,r,o){function l(e,t){return t===!0&&(t=10),100>e&&(e+=2e3,e>(new Date).getFullYear()+t&&(e-=100)),e}function d(){var e=this.slice(0,D[p].length),t=D[p].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!n)return t;if(n instanceof Date)return n;if("string"==typeof s&&(s=v.parseFormat(s)),s.toValue)return s.toValue(n,s,r);var c,u,p,m,f=/([\-+]\d+)([dmwy])/,D=n.match(/([\-+]\d+)([dmwy])/g),y={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},k={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,p=0;p<D.length;p++)c=f.exec(D[p]),u=parseInt(c[1]),m=y[c[2]],n=h.prototype[m](n,u);return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())}if("undefined"!=typeof k[n]&&(n=k[n],D=n.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n))){for(n=new Date,p=0;p<D.length;p++)c=f.exec(D[p]),u=parseInt(c[1]),m=y[c[2]],n=h.prototype[m](n,u);return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())}D=n&&n.match(this.nonpunctuation)||[],n=new Date;var T,w,b={},M=["yyyy","yy","M","MM","m","mm","d","dd"],C={yyyy:function(e,t){return e.setUTCFullYear(o?l(t,o):t)},yy:function(e,t){return e.setUTCFullYear(o?l(t,o):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};C.M=C.MM=C.mm=C.m,C.dd=C.d,n=a();var _=s.parts.slice();if(D.length!==_.length&&(_=e(_).filter(function(t,i){return-1!==e.inArray(i,M)}).toArray()),D.length===_.length){var S;for(p=0,S=_.length;S>p;p++){if(T=parseInt(D[p],10),c=_[p],isNaN(T))switch(c){case"MM":w=e(g[r].months).filter(d),T=e.inArray(w[0],g[r].months)+1;break;case"M":w=e(g[r].monthsShort).filter(d),T=e.inArray(w[0],g[r].monthsShort)+1}b[c]=T}var I,E;for(p=0;p<M.length;p++)E=M[p],E in b&&!isNaN(b[E])&&(I=new Date(n),C[E](I,b[E]),isNaN(I)||(n=I))}return n},formatDate:function(t,i,a){if(!t)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(t,i,a);var n={d:t.getUTCDate(),D:g[a].daysShort[t.getUTCDay()],DD:g[a].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[a].monthsShort[t.getUTCMonth()],MM:g[a].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var s=e.extend([],i.separators),r=0,o=i.parts.length;o>=r;r++)s.length&&t.push(s.shift()),t.push(n[i.parts[r]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=u,this},e.fn.datepicker.version="1.7.0-dev",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),p.call(i,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}),$(document).on("keydown",function(e){8===e.which&&"INPUT"!==e.target.nodeName&&"SELECT"!==e.target.nodeName&&e.preventDefault()}),angular.module("eventApp",["ngRoute","ngMessages","firebase","ui.timepicker","720kb.datepicker"]).controller("AppController",["$scope","$document","$rootScope","$location","$routeParams","$firebaseObject","$firebaseArray","$timeout","EventService",function(e,t,i,a,n,s,r,o,l){function d(t,i){t?o(function(){e.signInFailure=!0},0):(o(function(){e.isLoggedIn=!0,e.signInFailure=!1},0),e.authUser=i.uid,o(h,500))}function h(){e.topMenuSelect("edit"),l.addUser({email:e.email}),a.path("/event/")}e.isLoggedIn=!1,e.signInFailure=!1,e.isRegistered=!1,e.signinWindow=function(){o(function(){document.getElementById("signinemail").focus()},500)},e.registerWindow=function(){o(function(){document.getElementById("registername").focus()},500),e.regForm.$setUntouched(),e.regForm.$setPristine()},e.resetUser=function(){e.user={}};var c="https://scurve.firebaseio.com",u=new Firebase(c);e.logOut=function(){e.isLoggedIn=!1,e.isRegistered=!1,e.registerError=!1,e.resetUser(),l.ClearUser(),e.events={},e.topMenuSelect("contact"),a.path("#/home"),u.unauth(),e.authUser=null,o(function(){document.getElementById("signinButton").focus()},1e3)},e.signIn=function(t){t.preventDefault();var i=e.user.email,a=e.user.password;u.authWithPassword({email:i,password:a},d)},e.log=function(t){e.isRegistered=!0,console.log("Hi! You're registered")},e.log2=function(e){i.isLoggedIn=!0,console.log("Hi! You're logged in")},e.registerUser=function(t){t.preventDefault();var i=e.user.email,a=e.user.name,n=e.user.password,s={name:a,email:i};u.createUser({email:i,password:n},function(t,i){t?(console.log("Error creating user: "+t),o(function(){e.registerError=!0},1e3)):(e.isRegistered=!0,e.registerError=!1,e.users.$add(s))})},e.contactMenuIsSelected=!0,e.topMenuSelect=function(t){switch(t){case"contact":e.contactMenuIsSelected=!0,e.editMenuIsSelected=!1,e.allMenuIsSelected=!1;break;case"edit":e.isLoggedIn?(e.contactMenuIsSelected=!1,e.editMenuIsSelected=!0,e.allMenuIsSelected=!1):e.contactMenuIsSelected=!0;break;case"all":e.isLoggedIn?(e.contactMenuIsSelected=!1,e.editMenuIsSelected=!1,e.allMenuIsSelected=!0):e.contactMenuIsSelected=!0}}}]).service("EventService",function(){var e=this,t=[];e.getUser=function(e){return 1===t.length?t[0]:null},e.addUser=function(e){t.push(e)},e.ClearUser=function(){t=[]}}).config(["$routeProvider",function(e){e.when("/",{controller:"AppController",controllerAs:"app"}).when("/contact",{templateUrl:"contact/templates/contactus.html",controller:"AppController",controllerAs:"app"}).when("/signin",{templateUrl:"signIn/templates/signIn.html",controller:"SignInCtrl"}).when("/signin/:email",{templateUrl:"signIn/templates/signIn.html",controller:"SignInCtrl"}).when("/register",{templateUrl:"register/templates/register.html",controller:"RegisterCtrl"}).when("/event",{templateUrl:"events/templates/event.html",controller:"EventController"}).when("/allevents",{templateUrl:"events/templates/allEventsDetails.html",controller:"EventController"}).otherwise({redirectTo:"/contact"})}]).directive("notLoggedin",function(){return{restrict:"E",templateUrl:"welcome/templates/welcome.html",controller:"AppController"}}).directive("eventSummary",function(){return{restrict:"E",templateUrl:"events/templates/eventSummary.html",controller:"EventController",link:function(e,t,i,a,n){}}}).directive("emailIsvalid",["$timeout",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,a,n){function s(t){var a,s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return i.on("focus",e(function(){a=!0;var e=i.val().replace(/ /g,"");return e=e.split(","),angular.forEach(e,function(e,t){a=a&&s.test(e)}),console.log("guestlist is valid? "+a),n.$setViewValue(i.val()),n.$render(),n.$setValidity("guestAddressList",a),t},0)),t}n.$parsers.push(s)}}}]).directive("eventDetails",function(){return{restrict:"EA",templateUrl:"events/templates/eventDetails.html",controller:"EventController"}}).directive("geteventLocation",["$timeout",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,a,n){function s(t){function a(){return n.$setViewValue(i.val()),n.$render(),t}return i.on("blur",function(){e(a,0)}),t}n.$parsers.push(s)}}}]).directive("strongPassword",function(){return{restrict:"A",require:"ngModel",link:function(e,t,i,a){function n(e){return/[a-z]/.test(e)?a.$setValidity("lowercaseValidator",!0):a.$setValidity("lowercaseValidator",!1),/[A-Z]/.test(e)?a.$setValidity("uppercaseValidator",!0):a.$setValidity("uppercaseValidator",!1),/[0-9]/.test(e)?a.$setValidity("numberValidator",!0):a.$setValidity("numberValidator",!1),/\W+/.test(e)?a.$setValidity("specialCharValidator",!0):a.$setValidity("specialCharValidator",!1),e.length>=8?a.$setValidity("lengthValidator",!0):a.$setValidity("lengthValidator",!1),e}a.$parsers.push(n)}}}).directive("titleBar",function(){return{restrict:"AE",scope:"=",controller:"AppController",templateUrl:"signIn/templates/titlebar.html"}}).controller("EventController",["$scope","$document","$location","$routeParams","$filter","$firebaseArray","$timeout",function(e,t,i,a,n,s,r){function o(){var t=new Date;e.event.eventStartDate=n("date")(new Date(t),"M/d/yyyy"),e.event.eventEndDate=n("date")(new Date(t),"M/d/yyyy"),e.event.eventStartTime=t,e.event.eventEndTime=l(t,c)}function l(e,t){var i=new Date(e);return i.setHours(e.getHours()+t),i}function d(e,t){var i=e.keyCode||e.which;9==i&&(e.preventDefault(),$(t).focus())}window.onkeydown=function(e){8==e.keyCode&&e.target==document.body&&e.preventDefault()},e.event={},e.user={},e.events={},e.readOnly=!1,e.isEditing=!1,e.validateSelection=!1,e.endDateIsSet=!1,e.eventCreatedSuccess=!1,e.eventEditedSuccess=!1;var h,c=2;e.selectedEvent=null,e.isEditing||o(),e.timePickerOptions={step:30,timeFormat:"g:ia",appendTo:"body"},e.dateIsValid=function(e){var t=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/;return null==e||""==e||void 0==e?!1:!!t.test(e)},e.timeIsValid=function(e){var t=/^(\d{1,2}):(\d{1,2})\s(am|AM|pm|PM)$/;if(null==e||""==e||void 0==e)return!1;if(e instanceof Date){var i=n("date")(new Date(e),"shortTime");return t.test(i)}return!1},$("#eventStartDate").on("change",function(){if(!e.readOnly&&!e.isEditing){var t=new Date($("#eventStartTime").timepicker("getTime")),i=new Date(e.event.eventStartDate);i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),e.event.eventStartTime=i}new Date(e.event.eventStartDate)>new Date(e.event.eventEndDate)&&(e.event.eventEndDate=e.event.eventStartDate,e.event.eventStartTime>e.event.eventEndTime&&(e.event.eventEndTime=l(new Date(e.event.eventStartTime),c)))}),$("#editedEventStartDate").on("change",function(){if(!e.readOnly&&e.isEditing){var t=new Date($("#editedEventStartTime").timepicker("getTime")),i=new Date(e.editedEvent.eventStartDate);i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),e.editedEvent.eventStartTime=i}new Date(e.editedEvent.eventStartDate)>new Date(e.editedEvent.eventEndDate)&&(e.editedEvent.eventEndDate=e.editedEvent.eventStartDate,e.editedEvent.eventStartTime>e.editedEvent.eventEndTime&&(e.event.editedEventEndTime=l(new Date(e.editedEvent.eventStartTime),c)))}),$("#eventEndDate").on("change",function(){if(!e.readOnly&&!e.isEditing){var t=new Date($("#eventEndTime").timepicker("getTime")),i=new Date(e.event.eventEndDate);i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),e.event.eventEndTime=i}new Date(e.event.eventEndDate)<new Date(e.event.eventStartDate)&&(e.event.eventStartDate=e.event.eventEndDate,e.event.eventStartTime>e.event.eventEndTime&&(e.event.eventEndTime=l(new Date(e.event.eventStartTime),c)))}),$("#editedEventEndDate").on("change",function(){if(!e.readOnly&&!e.isEditing){var t=new Date($("#editedEventEndTime").timepicker("getTime")),i=new Date(e.editedEvent.eventEndDate);i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),e.editedEvent.eventEndTime=i}new Date(e.editedEvent.eventEndDate)<new Date(e.editedEvent.eventStartDate)&&(e.editedEvent.eventStartDate=e.editedEvent.eventEndDate,e.editedEvent.eventStartTime>e.editedEvent.eventEndTime&&(e.editedEvent.eventEndTime=l(new Date(e.editedEvent.eventStartTime),c)))}),$("#eventStartDate").on("keydown",function(e){d(e,"#eventStartTime")}),$("#eventEndDate").on("keydown",function(e){d(e,"#eventEndTime")}),$("#editedEventStartDate").on("keydown",function(e){d(e,"#editedEventStartTime")}),$("#editedEventEndDate").on("keydown",function(e){d(e,"#editedEventEndTime")}),$("#eventStartTime").on("change",function(){e.event.eventEndDate==e.event.eventStartDate&&e.event.eventStartTime>=e.event.eventEndTime&&r(function(){e.event.eventEndTime=l(e.event.eventStartTime,2)},0)}),$("#editedEventStartTime").on("change",function(){e.editedEvent.eventEndDate==e.editedEvent.eventStartDate&&e.editedEvent.eventStartTime>=e.editedEvent.eventEndTime&&r(function(){e.editedEvent.eventEndTime=l(e.editedEvent.eventStartTime,2)},0)}),$("#eventEndTime").on("change",function(){e.event.eventEndDate==e.event.eventStartDate&&e.event.eventStartTime>e.event.eventEndTime&&r(function(){e.event.eventEndTime=l(e.event.eventStartTime,2)},0)}),$("#editedEventEndTime").on("change",function(){e.editedEvent.eventEndDate==e.editedEvent.eventStartDate&&e.editedEvent.eventStartTime>e.editedEvent.eventEndTime&&r(function(){e.editedEvent.eventEndTime=l(e.editedEvent.eventStartTime,2)},0)}),e.dateRangeIsValid=function(){},e.guestList=function(e){if(e){var t="";return e.forEach(function(e){t+=e+", "}),t}return null};var u="https://scurve.firebaseio.com/";if(e.$parent.authUser){var p=new Firebase(u+"xevents/user/"+e.authUser);e.events=s(p),e.events.$loaded().then(function(t){t===e.events})["catch"](function(e){})}e.isRequired=function(){return!0},e.clearEventForm=function(){e.event={},o(),document.getElementById("eventName").focus(),e.validateSelection=!1,e.readOnly=!1,e.isEditing=!1,e.eventForm.$setUntouched(),e.eventForm.$setPristine()},e.numberOfEvents=function(){return e.events.length},e.setMenuActive=function(t){e.$parent.topMenuSelect(t)},e.eventListIsEmpty=function(){return 0===e.numberOfEvents()},e.convertDate=function(e){return new Date(e)},e.selectEvent=function(t,i,a){e.eventCreatedSuccess=i||!1,e.eventEditedSuccess=a||!1,t.eventStartTime=new Date(t.eventStartTime),t.eventEndTime=new Date(t.eventEndTime),e.validateSelection=!0,e.selectedEvent=angular.copy(t),e.eventSelected=!0,e.readOnly=!0,e.isEditing=!1,e.event=t,e.eventSelectedId=t.$id,h=e.events.$indexFor(t.$id),r(function(){document.getElementById("editButton").focus()},0)},e.editEvent=function(t,i){i.preventDefault(),e.eventEditedSuccess=!1,e.eventCreatedSuccess=!1,e.readOnly=!1,e.isEditing=!0,e.editedEvent=e.selectedEvent,r(function(){document.getElementById("editedEventName").focus(),t.$setPristine()},0)},e.cancelEditing=function(t){t.preventDefault(),e.selectEvent(e.event)},e.saveEditedEvent=function(t){e.events[h].eventLocation=t.eventLocation,e.events[h].eventGuestList=t.eventGuestList,t.eventNotesCheck&&(e.events[h].eventNotesCheck=t.eventNotesCheck,e.events[h].eventNotes=t.eventNotes),e.events[h].eventName=t.eventName,e.events[h].eventType=t.eventType,e.events[h].eventHost=t.eventHost,e.events[h].eventStartDate=t.eventStartDate,e.events[h].eventStartTime=t.eventStartTime.getTime(),e.events[h].eventEndDate=t.eventEndDate,e.events[h].eventEndTime=t.eventEndTime.getTime(),e.events.$save(e.events.$indexFor(t.$id)).then(function(t){t.key===e.editedEvent.$id}),e.selectEvent(t,!1,!0),r(function(){document.getElementById("eventName").focus()},0)},e.deleteEvent=function(t){e.events.$remove(h).then(function(e){}),e.clearEventForm()},e.createNewEvent=function(t,a,n){n.preventDefault();var s={};s=t,s.eventStartTime=t.eventStartTime.getTime(),s.eventEndTime=t.eventEndTime.getTime(),e.events.$add(s),i.path("/allevents/"),e.setMenuActive("all")}}]);var placeSearch,autocomplete,componentForm={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"};!function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=e[0];return t.offsetWidth>0&&t.offsetHeight>0}function i(t){if(t.minTime&&(t.minTime=y(t.minTime)),t.maxTime&&(t.maxTime=y(t.maxTime)),t.durationTime&&"function"!=typeof t.durationTime&&(t.durationTime=y(t.durationTime)),"now"==t.scrollDefault)t.scrollDefault=function(){return t.roundingFunction(y(new Date),t)};else if(t.scrollDefault&&"function"!=typeof t.scrollDefault){var i=t.scrollDefault;t.scrollDefault=function(){return t.roundingFunction(y(i),t)}}else t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)});if("string"===e.type(t.timeFormat)&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),t.showOnFocus===!1&&-1!=t.showOn.indexOf("focus")&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges.length>0){for(var a in t.disableTimeRanges)t.disableTimeRanges[a]=[y(t.disableTimeRanges[a][0]),y(t.disableTimeRanges[a][1])];t.disableTimeRanges=t.disableTimeRanges.sort(function(e,t){return e[0]-t[0]});for(var a=t.disableTimeRanges.length-1;a>0;a--)t.disableTimeRanges[a][0]<=t.disableTimeRanges[a-1][1]&&(t.disableTimeRanges[a-1]=[Math.min(t.disableTimeRanges[a][0],t.disableTimeRanges[a-1][0]),Math.max(t.disableTimeRanges[a][1],t.disableTimeRanges[a-1][1])],t.disableTimeRanges.splice(a,1))}return t}function a(t){var i=t.data("timepicker-settings"),a=t.data("timepicker-list");if(a&&a.length&&(a.remove(),t.data("timepicker-list",!1)),i.useSelect){a=e("<select />",{"class":"ui-timepicker-select"});var r=a}else{a=e("<ul />",{"class":"ui-timepicker-list"});var r=e("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});r.css({display:"none",position:"absolute"}).append(a)}if(i.noneOption)if(i.noneOption===!0&&(i.noneOption=i.useSelect?"Time...":"None"),e.isArray(i.noneOption)){for(var l in i.noneOption)if(parseInt(l,10)==l){var h=n(i.noneOption[l],i.useSelect);a.append(h)}}else{var h=n(i.noneOption,i.useSelect);a.append(h)}i.className&&r.addClass(i.className),null===i.minTime&&null===i.durationTime||!i.showDuration||("function"==typeof i.step?"function":i.step,r.addClass("ui-timepicker-with-duration"),r.addClass("ui-timepicker-step-"+i.step));var c=i.minTime;"function"==typeof i.durationTime?c=y(i.durationTime()):null!==i.durationTime&&(c=i.durationTime);var p=null!==i.minTime?i.minTime:0,m=null!==i.maxTime?i.maxTime:p+k-1;p>m&&(m+=k),m===k-1&&"string"===e.type(i.timeFormat)&&i.show2400&&(m=k);var f=i.disableTimeRanges,T=0,b=f.length,M=i.step;"function"!=typeof M&&(M=function(){return i.step});for(var l=p,C=0;m>=l;C++,l+=60*M(C)){var _=l,S=D(_,i);if(i.useSelect){var I=e("<option />",{value:S});I.text(S)}else{var I=e("<li />");I.addClass(43200>_%86400?"ui-timepicker-am":"ui-timepicker-pm"),
I.data("time",86400>=_?_:_%86400),I.text(S)}if((null!==i.minTime||null!==i.durationTime)&&i.showDuration){var E=v(l-c,i.step);if(i.useSelect)I.text(I.text()+" ("+E+")");else{var x=e("<span />",{"class":"ui-timepicker-duration"});x.text(" ("+E+")"),I.append(x)}}b>T&&(_>=f[T][1]&&(T+=1),f[T]&&_>=f[T][0]&&_<f[T][1]&&(i.useSelect?I.prop("disabled",!0):I.addClass("ui-timepicker-disabled"))),a.append(I)}if(r.data("timepicker-input",t),t.data("timepicker-list",r),i.useSelect)t.val()&&a.val(s(y(t.val()),i)),a.on("focus",function(){e(this).data("timepicker-input").trigger("showTimepicker")}),a.on("blur",function(){e(this).data("timepicker-input").trigger("hideTimepicker")}),a.on("change",function(){u(t,e(this).val(),"select")}),u(t,a.val(),"initial"),t.hide().after(a);else{var N=i.appendTo;"string"==typeof N?N=e(N):"function"==typeof N&&(N=N(t)),N.append(r),d(t,a),a.on("mousedown click","li",function(i){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",w.show)}),o(t)||t[0].focus(),a.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),g(t)&&(t.trigger("hideTimepicker"),a.on("mouseup.timepicker click.timepicker","li",function(e){a.off("mouseup.timepicker click.timepicker"),r.hide()}))})}}function n(t,i){var a,n,s;return"object"==typeof t?(a=t.label,n=t.className,s=t.value):"string"==typeof t?a=t:e.error("Invalid noneOption value"),i?e("<option />",{value:s,"class":n,text:a}):e("<li />",{"class":n,text:a}).data("time",String(s))}function s(e,t){return e=t.roundingFunction(e,t),null!==e?D(e,t):void 0}function r(t){if(t.target!=window){var i=e(t.target);i.closest(".ui-timepicker-input").length||i.closest(".ui-timepicker-wrapper").length||(w.hide(),e(document).unbind(".ui-timepicker"),e(window).unbind(".ui-timepicker"))}}function o(e){var t=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function l(t,i,a){if(!a&&0!==a)return!1;var n=t.data("timepicker-settings"),s=!1,a=n.roundingFunction(a,n);return i.find("li").each(function(t,i){var n=e(i);return"number"==typeof n.data("time")&&n.data("time")==a?(s=n,!1):void 0}),s}function d(e,t){t.find("li").removeClass("ui-timepicker-selected");var i=y(c(e),e.data("timepicker-settings"));if(null!==i){var a=l(e,t,i);if(a){var n=a.offset().top-t.offset().top;(n+a.outerHeight()>t.outerHeight()||0>n)&&t.scrollTop(t.scrollTop()+a.position().top-a.outerHeight()),a.addClass("ui-timepicker-selected")}}}function h(t,i){if(""!==this.value&&"timepicker"!=i){var a=e(this);if(!a.is(":focus")||t&&"change"==t.type){var n=a.data("timepicker-settings"),s=y(this.value,n);if(null===s)return void a.trigger("timeFormatError");var r=!1;null!==n.minTime&&s<n.minTime&&null!==n.maxTime&&s>n.maxTime&&(r=!0),e.each(n.disableTimeRanges,function(){return s>=this[0]&&s<this[1]?(r=!0,!1):void 0}),n.forceRoundTime&&(s=n.roundingFunction(s,n));var o=D(s,n);r?u(a,o,"error")&&a.trigger("timeRangeError"):u(a,o)}}}function c(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function u(e,t,i){if(e.is("input")){e.val(t);var a=e.data("timepicker-settings");a.useSelect&&"select"!=i&&"initial"!=i&&e.data("timepicker-list").val(s(y(t),a))}return e.data("ui-timepicker-value")!=t?(e.data("ui-timepicker-value",t),"select"==i?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):"error"!=i&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function p(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}function m(i){var a=e(this),n=a.data("timepicker-list");if(!n||!t(n)){if(40!=i.keyCode)return!0;w.show.call(a.get(0)),n=a.data("timepicker-list"),o(a)||a.focus()}switch(i.keyCode){case 13:return g(a)&&w.hide.apply(this),i.preventDefault(),!1;case 38:var s=n.find(".ui-timepicker-selected");return s.length?s.is(":first-child")||(s.removeClass("ui-timepicker-selected"),s.prev().addClass("ui-timepicker-selected"),s.prev().position().top<s.outerHeight()&&n.scrollTop(n.scrollTop()-s.outerHeight())):(n.find("li").each(function(t,i){return e(i).position().top>0?(s=e(i),!1):void 0}),s.addClass("ui-timepicker-selected")),!1;case 40:return s=n.find(".ui-timepicker-selected"),0===s.length?(n.find("li").each(function(t,i){return e(i).position().top>0?(s=e(i),!1):void 0}),s.addClass("ui-timepicker-selected")):s.is(":last-child")||(s.removeClass("ui-timepicker-selected"),s.next().addClass("ui-timepicker-selected"),s.next().position().top+2*s.outerHeight()>n.outerHeight()&&n.scrollTop(n.scrollTop()+s.outerHeight())),!1;case 27:n.find("li").removeClass("ui-timepicker-selected"),w.hide();break;case 9:w.hide();break;default:return!0}}function f(i){var a=e(this),n=a.data("timepicker-list"),s=a.data("timepicker-settings");if(!n||!t(n)||s.disableTextInput)return!0;switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:s.typeaheadHighlight?d(a,n):n.hide()}}function g(e){var t=e.data("timepicker-settings"),i=e.data("timepicker-list"),a=null,n=i.find(".ui-timepicker-selected");return n.hasClass("ui-timepicker-disabled")?!1:(n.length&&(a=n.data("time")),null!==a&&("string"!=typeof a&&(a=D(a,t)),u(e,a,"select")),!0)}function v(e,t){e=Math.abs(e);var i,a,n=Math.round(e/60),s=[];return 60>n?s=[n,T.mins]:(i=Math.floor(n/60),a=n%60,30==t&&30==a&&(i+=T.decimal+5),s.push(i),s.push(1==i?T.hr:T.hrs),30!=t&&a&&(s.push(a),s.push(T.mins))),s.join(" ")}function D(t,i){if("number"!=typeof t)return null;var a=parseInt(t%60),n=parseInt(t/60%60),s=parseInt(t/3600%24),r=new Date(1970,0,2,s,n,a,0);if(isNaN(r.getTime()))return null;if("function"===e.type(i.timeFormat))return i.timeFormat(r);for(var o,l,d="",h=0;h<i.timeFormat.length;h++)switch(l=i.timeFormat.charAt(h)){case"a":d+=r.getHours()>11?T.pm:T.am;break;case"A":d+=r.getHours()>11?T.PM:T.AM;break;case"g":o=r.getHours()%12,d+=0===o?"12":o;break;case"G":o=r.getHours(),t===k&&(o=i.show2400?24:0),d+=o;break;case"h":o=r.getHours()%12,0!==o&&10>o&&(o="0"+o),d+=0===o?"12":o;break;case"H":o=r.getHours(),t===k&&(o=i.show2400?24:0),d+=o>9?o:"0"+o;break;case"i":var n=r.getMinutes();d+=n>9?n:"0"+n;break;case"s":a=r.getSeconds(),d+=a>9?a:"0"+a;break;case"\\":h++,d+=i.timeFormat.charAt(h);break;default:d+=l}return d}function y(e,t){if(""===e||null===e)return null;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;e=e.toLowerCase().replace(/[\s\.]/g,""),("a"==e.slice(-1)||"p"==e.slice(-1))&&(e+="m");var i="("+T.am.replace(".","")+"|"+T.pm.replace(".","")+"|"+T.AM.replace(".","")+"|"+T.PM.replace(".","")+")?",a=new RegExp("^"+i+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+i+"$"),n=e.match(a);if(!n)return null;var s=parseInt(1*n[2],10);if(s>24){if(t&&t.wrapHours===!1)return null;s%=24}var r=n[1]||n[5],o=s;if(12>=s&&r){var l=r==T.pm||r==T.PM;o=12==s?l?12:0:s+(l?12:0)}var d=1*n[3]||0,h=1*n[4]||0,c=3600*o+60*d+h;if(12>s&&!r&&t&&t._twelveHourTime&&t.scrollDefault){var u=c-t.scrollDefault();0>u&&u>=k/-2&&(c=(c+k/2)%k)}return c}var k=86400,T={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},w={init:function(t){return this.each(function(){var n=e(this),s=[];for(var r in e.fn.timepicker.defaults)n.data(r)&&(s[r]=n.data(r));var o=e.extend({},e.fn.timepicker.defaults,s,t);if(o.lang&&(T=e.extend(T,o.lang)),o=i(o),n.data("timepicker-settings",o),n.addClass("ui-timepicker-input"),o.useSelect)a(n);else{if(n.prop("autocomplete","off"),o.showOn)for(var l in o.showOn)n.on(o.showOn[l]+".timepicker",w.show);n.on("change.timepicker",h),n.on("keydown.timepicker",m),n.on("keyup.timepicker",f),o.disableTextInput&&n.on("keydown.timepicker",p),h.call(n.get(0))}})},show:function(i){var n=e(this),s=n.data("timepicker-settings");if(i&&i.preventDefault(),s.useSelect)return void n.data("timepicker-list").focus();o(n)&&n.blur();var h=n.data("timepicker-list");if(!n.prop("readonly")&&(h&&0!==h.length&&"function"!=typeof s.durationTime||(a(n),h=n.data("timepicker-list")),!t(h))){n.data("ui-timepicker-value",n.val()),d(n,h),w.hide(),h.show();var u={};s.orientation.match(/r/)?u.left=n.offset().left+n.outerWidth()-h.outerWidth()+parseInt(h.css("marginLeft").replace("px",""),10):u.left=n.offset().left+parseInt(h.css("marginLeft").replace("px",""),10);var p;p=s.orientation.match(/t/)?"t":s.orientation.match(/b/)?"b":n.offset().top+n.outerHeight(!0)+h.outerHeight()>e(window).height()+e(window).scrollTop()?"t":"b","t"==p?(h.addClass("ui-timepicker-positioned-top"),u.top=n.offset().top-h.outerHeight()+parseInt(h.css("marginTop").replace("px",""),10)):(h.removeClass("ui-timepicker-positioned-top"),u.top=n.offset().top+n.outerHeight()+parseInt(h.css("marginTop").replace("px",""),10)),h.offset(u);var m=h.find(".ui-timepicker-selected");if(!m.length){var f=y(c(n));null!==f?m=l(n,h,f):s.scrollDefault&&(m=l(n,h,s.scrollDefault()))}if(m&&m.length){var g=h.scrollTop()+m.position().top-m.outerHeight();h.scrollTop(g)}else h.scrollTop(0);return s.stopScrollPropagation&&e(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var i=e(this).scrollTop();e(this).scrollTop(i+t.originalEvent.deltaY)}),e(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",r),e(window).on("resize.ui-timepicker",r),s.closeOnWindowScroll&&e(document).on("scroll.ui-timepicker",r),n.trigger("showTimepicker"),this}},hide:function(i){var a=e(this),n=a.data("timepicker-settings");return n&&n.useSelect&&a.blur(),e(".ui-timepicker-wrapper").each(function(){var i=e(this);if(t(i)){var a=i.data("timepicker-input"),n=a.data("timepicker-settings");n&&n.selectOnBlur&&g(a),i.hide(),a.trigger("hideTimepicker")}}),this},option:function(t,n){return"string"==typeof t&&"undefined"==typeof n?e(this).data("timepicker-settings")[t]:this.each(function(){var s=e(this),r=s.data("timepicker-settings"),o=s.data("timepicker-list");"object"==typeof t?r=e.extend(r,t):"string"==typeof t&&(r[t]=n),r=i(r),s.data("timepicker-settings",r),o&&(o.remove(),s.data("timepicker-list",!1)),r.useSelect&&a(s)})},getSecondsFromMidnight:function(){return y(c(this))},getTime:function(e){var t=this,i=c(t);if(!i)return null;var a=y(i);if(null===a)return null;e||(e=new Date);var n=new Date(e);return n.setHours(a/3600),n.setMinutes(a%3600/60),n.setSeconds(a%60),n.setMilliseconds(0),n},isVisible:function(){var e=this,i=e.data("timepicker-list");return!(!i||!t(i))},setTime:function(e){var t=this,i=t.data("timepicker-settings");if(i.forceRoundTime)var a=s(y(e),i);else var a=D(y(e),i);return e&&null===a&&i.noneOption&&(a=e),u(t,a),t.data("timepicker-list")&&d(t,t.data("timepicker-list")),this},remove:function(){var e=this;if(e.hasClass("ui-timepicker-input")){var t=e.data("timepicker-settings");return e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),t.useSelect&&e.show(),e.removeData("timepicker-list"),this}}};e.fn.timepicker=function(t){return this.length?w[t]?this.hasClass("ui-timepicker-input")?w[t].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.timepicker"):w.init.apply(this,arguments):this},e.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,t){if(null===e)return null;if("number"!=typeof t.step)return e;var i=e%(60*t.step);return i>=30*t.step?e+=60*t.step-i:e-=i,e==k&&t.show2400?e:e%k},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}});var m=angular.module("ui.timepicker",[]);m.value("uiTimepickerConfig",{step:15}),m.directive("uiTimepicker",["uiTimepickerConfig","$parse","$window",function(e,t,i){var a=i.moment,n=function(e){return void 0!==a&&a.isMoment(e)&&e.isValid()},s=function(e){return null!==e&&(angular.isDate(e)||n(e))};return{restrict:"A",require:"ngModel",scope:{ngModel:"=",baseDate:"=",uiTimepicker:"="},priority:1,link:function(t,i,r,o){"use strict";var l=angular.copy(e),d=l.asMoment||!1;delete l.asMoment,o.$render=function(){var e=o.$modelValue;if(angular.isDefined(e)){if(null!==e&&""!==e&&!s(e))throw new Error("ng-Model value must be a Date or Moment object - currently it is a "+typeof e+".");n(e)&&(e=e.toDate()),i.is(":focus")||u()||i.timepicker("setTime",e),null===e&&h()}},t.$watch("ngModel",function(){o.$render()},!0),l.appendTo=l.appendTo||i.parent(),i.timepicker(angular.extend(l,t.uiTimepicker?t.uiTimepicker:{}));var h=function(){i.timepicker("setTime",null)},c=function(){return i.val().trim()},u=function(){return c()&&null===o.$modelValue};i.on("$destroy",function(){i.timepicker("remove")});var p=function(){var e=o.$modelValue?o.$modelValue:t.baseDate;return n(e)?e.toDate():e},m=function(e){return d?a(e):e};i.is("input")?(o.$parsers.unshift(function(e){var t=i.timepicker("getTime",p());return t?m(t):t}),o.$validators.time=function(e){return r.required||c()?s(e):!0}):i.on("changeTime",function(){t.$evalAsync(function(){var e=i.timepicker("getTime",p());o.$setViewValue(e)})})}}}]),!function(e,t){"use strict";function i(e,t){var i=t||{};for(var a in e)a in i||(i[a]=e[a]);return i}function a(e,i){if(o)o(e).trigger(i);else{var a=t.createEvent("CustomEvent");a.initCustomEvent(i,!0,!0,{}),e.dispatchEvent(a)}}function n(e,t){return o?o(e).hasClass(t):e.classList.contains(t)}function s(e,t){this.dateDelta=null,this.timeDelta=null,this._defaults={startClass:"start",endClass:"end",timeClass:"time",dateClass:"date",defaultDateDelta:0,defaultTimeDelta:36e5,anchor:"start",parseTime:function(e){return o(e).timepicker("getTime")},updateTime:function(e,t){o(e).timepicker("setTime",t)},setMinTime:function(e,t){o(e).timepicker("option","minTime",t)},parseDate:function(e){return e.value&&o(e).datepicker("getDate")},updateDate:function(e,t){o(e).datepicker("update",t)}},this.container=e,this.settings=i(this._defaults,t),this.startDateInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.dateClass),this.endDateInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.dateClass),this.startTimeInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.timeClass),this.endTimeInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.timeClass),this.refresh(),this._bindChangeHandler()}var r=864e5,o=e.Zepto||e.jQuery;s.prototype={constructor:s,option:function(e,t){if("object"==typeof e)this.settings=i(this.settings,e);else if("string"==typeof e&&"undefined"!=typeof t)this.settings[e]=t;else if("string"==typeof e)return this.settings[e];this._updateEndMintime()},getTimeDiff:function(){var e=this.dateDelta+this.timeDelta;return!(0>e)||this.startDateInput&&this.endDateInput||(e+=r),e},refresh:function(){if(this.startDateInput&&this.startDateInput.value&&this.endDateInput&&this.endDateInput.value){var e=this.settings.parseDate(this.startDateInput),t=this.settings.parseDate(this.endDateInput);e&&t&&(this.dateDelta=t.getTime()-e.getTime())}if(this.startTimeInput&&this.startTimeInput.value&&this.endTimeInput&&this.endTimeInput.value){var i=this.settings.parseTime(this.startTimeInput),a=this.settings.parseTime(this.endTimeInput);i&&a&&(this.timeDelta=a.getTime()-i.getTime(),this._updateEndMintime())}},remove:function(){this._unbindChangeHandler()},_bindChangeHandler:function(){o?o(this.container).on("change.datepair",o.proxy(this.handleEvent,this)):this.container.addEventListener("change",this,!1)},_unbindChangeHandler:function(){o?o(this.container).off("change.datepair"):this.container.removeEventListener("change",this,!1)},handleEvent:function(e){this._unbindChangeHandler(),n(e.target,this.settings.dateClass)?""!=e.target.value?(this._dateChanged(e.target),this._timeChanged(e.target)):this.dateDelta=null:n(e.target,this.settings.timeClass)&&(""!=e.target.value?this._timeChanged(e.target):this.timeDelta=null),this._validateRanges(),this._updateEndMintime(),this._bindChangeHandler()},_dateChanged:function(e){if(this.startDateInput&&this.endDateInput){var t=this.settings.parseDate(this.startDateInput),i=this.settings.parseDate(this.endDateInput);if(t&&i)if("start"==this.settings.anchor&&n(e,this.settings.startClass)){var a=new Date(t.getTime()+this.dateDelta);this.settings.updateDate(this.endDateInput,a)}else if("end"==this.settings.anchor&&n(e,this.settings.endClass)){var a=new Date(i.getTime()-this.dateDelta);this.settings.updateDate(this.startDateInput,a)}else if(t>i){var s=n(e,this.settings.startClass)?this.endDateInput:this.startDateInput,o=this.settings.parseDate(e);this.dateDelta=0,this.settings.updateDate(s,o)}else this.dateDelta=i.getTime()-t.getTime();else if(null!==this.settings.defaultDateDelta){if(t){var l=new Date(t.getTime()+this.settings.defaultDateDelta*r);this.settings.updateDate(this.endDateInput,l)}else if(i){var d=new Date(i.getTime()-this.settings.defaultDateDelta*r);this.settings.updateDate(this.startDateInput,d)}this.dateDelta=this.settings.defaultDateDelta*r}else this.dateDelta=null}},_timeChanged:function(e){if(this.startTimeInput&&this.endTimeInput){var t=this.settings.parseTime(this.startTimeInput),i=this.settings.parseTime(this.endTimeInput);if(t&&i)if("start"==this.settings.anchor&&n(e,this.settings.startClass)){var a=new Date(t.getTime()+this.timeDelta);this.settings.updateTime(this.endTimeInput,a),i=this.settings.parseTime(this.endTimeInput),this._doMidnightRollover(t,i)}else if("end"==this.settings.anchor&&n(e,this.settings.endClass)){var a=new Date(i.getTime()-this.timeDelta);this.settings.updateTime(this.startTimeInput,a),t=this.settings.parseTime(this.startTimeInput),this._doMidnightRollover(t,i)}else{this._doMidnightRollover(t,i);var s,r;if(this.startDateInput&&this.endDateInput&&(s=this.settings.parseDate(this.startDateInput),r=this.settings.parseDate(this.endDateInput)),+s==+r&&t>i){var o=n(e,this.settings.endClass)?this.endTimeInput:this.startTimeInput,l=n(e,this.settings.startClass)?this.endTimeInput:this.startTimeInput,d=this.settings.parseTime(o);this.timeDelta=0,this.settings.updateTime(l,d)}else this.timeDelta=i.getTime()-t.getTime()}else if(null!==this.settings.defaultTimeDelta){if(t){var h=new Date(t.getTime()+this.settings.defaultTimeDelta);this.settings.updateTime(this.endTimeInput,h)}else if(i){var c=new Date(i.getTime()-this.settings.defaultTimeDelta);this.settings.updateTime(this.startTimeInput,c)}this.timeDelta=this.settings.defaultTimeDelta}else this.timeDelta=null}},_doMidnightRollover:function(e,t){if(this.startDateInput&&this.endDateInput){var i=this.settings.parseDate(this.endDateInput),a=this.settings.parseDate(this.startDateInput),n=t.getTime()-e.getTime(),s=e>t?r:-1*r;null!==this.dateDelta&&this.dateDelta+this.timeDelta<=r&&this.dateDelta+n!=0&&(s>0||0!=this.dateDelta)&&(n>=0&&this.timeDelta<0||0>n&&this.timeDelta>=0)&&("start"==this.settings.anchor?(this.settings.updateDate(this.endDateInput,new Date(i.getTime()+s)),this._dateChanged(this.endDateInput)):"end"==this.settings.anchor&&(this.settings.updateDate(this.startDateInput,new Date(a.getTime()-s)),this._dateChanged(this.startDateInput))),this.timeDelta=n}},_updateEndMintime:function(){if("function"==typeof this.settings.setMinTime){var e=null;"start"==this.settings.anchor&&(!this.dateDelta||this.dateDelta<r||this.timeDelta&&this.dateDelta+this.timeDelta<r)&&(e=this.settings.parseTime(this.startTimeInput)),this.settings.setMinTime(this.endTimeInput,e)}},_validateRanges:function(){return this.startTimeInput&&this.endTimeInput&&null===this.timeDelta?void a(this.container,"rangeIncomplete"):this.startDateInput&&this.endDateInput&&null===this.dateDelta?void a(this.container,"rangeIncomplete"):void(!this.startDateInput||!this.endDateInput||this.dateDelta+this.timeDelta>=0?a(this.container,"rangeSelected"):a(this.container,"rangeError"))}},e.Datepair=s}(window,document),!function(e,t){"use strict";function i(e,t){var i=t||{};for(var a in e)a in i||(i[a]=e[a]);return i}function a(e,i){if(o)o(e).trigger(i);else{var a=t.createEvent("CustomEvent");a.initCustomEvent(i,!0,!0,{}),e.dispatchEvent(a)}}function n(e,t){return o?o(e).hasClass(t):e.classList.contains(t)}function s(e,t){this.dateDelta=null,this.timeDelta=null,this._defaults={startClass:"start",endClass:"end",timeClass:"time",dateClass:"date",defaultDateDelta:0,defaultTimeDelta:36e5,anchor:"start",parseTime:function(e){return o(e).timepicker("getTime")},updateTime:function(e,t){o(e).timepicker("setTime",t)},setMinTime:function(e,t){o(e).timepicker("option","minTime",t)},parseDate:function(e){return e.value&&o(e).datepicker("getDate")},updateDate:function(e,t){o(e).datepicker("update",t)}},this.container=e,this.settings=i(this._defaults,t),this.startDateInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.dateClass),this.endDateInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.dateClass),this.startTimeInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.timeClass),this.endTimeInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.timeClass),this.refresh(),this._bindChangeHandler()}var r=864e5,o=e.Zepto||e.jQuery;s.prototype={constructor:s,option:function(e,t){if("object"==typeof e)this.settings=i(this.settings,e);else if("string"==typeof e&&"undefined"!=typeof t)this.settings[e]=t;else if("string"==typeof e)return this.settings[e];this._updateEndMintime()},getTimeDiff:function(){var e=this.dateDelta+this.timeDelta;return!(0>e)||this.startDateInput&&this.endDateInput||(e+=r),e},refresh:function(){if(this.startDateInput&&this.startDateInput.value&&this.endDateInput&&this.endDateInput.value){var e=this.settings.parseDate(this.startDateInput),t=this.settings.parseDate(this.endDateInput);e&&t&&(this.dateDelta=t.getTime()-e.getTime())}if(this.startTimeInput&&this.startTimeInput.value&&this.endTimeInput&&this.endTimeInput.value){var i=this.settings.parseTime(this.startTimeInput),a=this.settings.parseTime(this.endTimeInput);i&&a&&(this.timeDelta=a.getTime()-i.getTime(),this._updateEndMintime())}},remove:function(){this._unbindChangeHandler()},_bindChangeHandler:function(){o?o(this.container).on("change.datepair",o.proxy(this.handleEvent,this)):this.container.addEventListener("change",this,!1)},_unbindChangeHandler:function(){o?o(this.container).off("change.datepair"):this.container.removeEventListener("change",this,!1)},handleEvent:function(e){this._unbindChangeHandler(),n(e.target,this.settings.dateClass)?""!=e.target.value?(this._dateChanged(e.target),this._timeChanged(e.target)):this.dateDelta=null:n(e.target,this.settings.timeClass)&&(""!=e.target.value?this._timeChanged(e.target):this.timeDelta=null),this._validateRanges(),this._updateEndMintime(),this._bindChangeHandler()},_dateChanged:function(e){if(this.startDateInput&&this.endDateInput){var t=this.settings.parseDate(this.startDateInput),i=this.settings.parseDate(this.endDateInput);if(t&&i)if("start"==this.settings.anchor&&n(e,this.settings.startClass)){var a=new Date(t.getTime()+this.dateDelta);this.settings.updateDate(this.endDateInput,a)}else if("end"==this.settings.anchor&&n(e,this.settings.endClass)){var a=new Date(i.getTime()-this.dateDelta);this.settings.updateDate(this.startDateInput,a)}else if(t>i){var s=n(e,this.settings.startClass)?this.endDateInput:this.startDateInput,o=this.settings.parseDate(e);this.dateDelta=0,this.settings.updateDate(s,o)}else this.dateDelta=i.getTime()-t.getTime();else if(null!==this.settings.defaultDateDelta){if(t){var l=new Date(t.getTime()+this.settings.defaultDateDelta*r);this.settings.updateDate(this.endDateInput,l)}else if(i){var d=new Date(i.getTime()-this.settings.defaultDateDelta*r);this.settings.updateDate(this.startDateInput,d)}this.dateDelta=this.settings.defaultDateDelta*r}else this.dateDelta=null}},_timeChanged:function(e){if(this.startTimeInput&&this.endTimeInput){var t=this.settings.parseTime(this.startTimeInput),i=this.settings.parseTime(this.endTimeInput);if(t&&i)if("start"==this.settings.anchor&&n(e,this.settings.startClass)){var a=new Date(t.getTime()+this.timeDelta);this.settings.updateTime(this.endTimeInput,a),i=this.settings.parseTime(this.endTimeInput),this._doMidnightRollover(t,i)}else if("end"==this.settings.anchor&&n(e,this.settings.endClass)){var a=new Date(i.getTime()-this.timeDelta);this.settings.updateTime(this.startTimeInput,a),t=this.settings.parseTime(this.startTimeInput),this._doMidnightRollover(t,i)}else{this._doMidnightRollover(t,i);var s,r;if(this.startDateInput&&this.endDateInput&&(s=this.settings.parseDate(this.startDateInput),r=this.settings.parseDate(this.endDateInput)),+s==+r&&t>i){var o=n(e,this.settings.endClass)?this.endTimeInput:this.startTimeInput,l=n(e,this.settings.startClass)?this.endTimeInput:this.startTimeInput,d=this.settings.parseTime(o);this.timeDelta=0,this.settings.updateTime(l,d)}else this.timeDelta=i.getTime()-t.getTime()}else if(null!==this.settings.defaultTimeDelta){if(t){var h=new Date(t.getTime()+this.settings.defaultTimeDelta);this.settings.updateTime(this.endTimeInput,h)}else if(i){var c=new Date(i.getTime()-this.settings.defaultTimeDelta);this.settings.updateTime(this.startTimeInput,c)}this.timeDelta=this.settings.defaultTimeDelta}else this.timeDelta=null}},_doMidnightRollover:function(e,t){if(this.startDateInput&&this.endDateInput){var i=this.settings.parseDate(this.endDateInput),a=this.settings.parseDate(this.startDateInput),n=t.getTime()-e.getTime(),s=e>t?r:-1*r;null!==this.dateDelta&&this.dateDelta+this.timeDelta<=r&&this.dateDelta+n!=0&&(s>0||0!=this.dateDelta)&&(n>=0&&this.timeDelta<0||0>n&&this.timeDelta>=0)&&("start"==this.settings.anchor?(this.settings.updateDate(this.endDateInput,new Date(i.getTime()+s)),this._dateChanged(this.endDateInput)):"end"==this.settings.anchor&&(this.settings.updateDate(this.startDateInput,new Date(a.getTime()-s)),this._dateChanged(this.startDateInput))),this.timeDelta=n}},_updateEndMintime:function(){if("function"==typeof this.settings.setMinTime){var e=null;"start"==this.settings.anchor&&(!this.dateDelta||this.dateDelta<r||this.timeDelta&&this.dateDelta+this.timeDelta<r)&&(e=this.settings.parseTime(this.startTimeInput)),this.settings.setMinTime(this.endTimeInput,e)}},_validateRanges:function(){return this.startTimeInput&&this.endTimeInput&&null===this.timeDelta?void a(this.container,"rangeIncomplete"):this.startDateInput&&this.endDateInput&&null===this.dateDelta?void a(this.container,"rangeIncomplete"):void(!this.startDateInput||!this.endDateInput||this.dateDelta+this.timeDelta>=0?a(this.container,"rangeSelected"):a(this.container,"rangeError"))}},e.Datepair=s}(window,document),function(e){e&&(e.fn.datepair=function(t){var i;return this.each(function(){var a=e(this),n=a.data("datepair"),s="object"==typeof t&&t;n||(n=new Datepair(this,s),a.data("datepair",n)),"string"==typeof t&&(i=n[t]())}),i||this},e("[data-datepair]").each(function(){var t=e(this);t.datepair(t.data())}))}(window.Zepto||window.jQuery),function(e,t){"use strict";var i=864e5,a=function(){return t.userAgent&&(t.userAgent.match(/Android/i)||t.userAgent.match(/webOS/i)||t.userAgent.match(/iPhone/i)||t.userAgent.match(/iPad/i)||t.userAgent.match(/iPod/i)||t.userAgent.match(/BlackBerry/i)||t.userAgent.match(/Windows Phone/i))?!0:void 0}(),n=function(e,t){return a?['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="month" title="{{ dateMonthTitle }}" ng-change="selectedMonthHandle(month)">','<option ng-repeat="item in months" ng-selected="item === month" ng-disabled=\'!isSelectableMaxDate(item + " " + day + ", " + year) || !isSelectableMinDate(item + " " + day + ", " + year)\' ng-value="$index + 1" value="$index + 1">',"{{ item }}","</option>","</select>","</div>","</div>",'<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month">','<select ng-model="mobileYear" title="{{ dateYearTitle }}" ng-change="setNewYear(mobileYear)">','<option ng-repeat="item in paginationYears track by $index" ng-selected="year === item" ng-disabled="!isSelectableMinYear(item) || !isSelectableMaxYear(item)" ng-value="item" value="item">',"{{ item }}","</option>","</select>","</div>","</div>"]:['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-left">','<a class="_720kb-datepicker-calendar-month-button" href="javascript:void(0)" ng-class="{\'_720kb-datepicker-item-hidden\': !willPrevMonthBeSelectable()}" ng-click="prevMonth()" title="{{ buttonPrevTitle }}">',e,"</a>","</div>",'<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-calendar-month">',"{{month}}&nbsp;",'<a href="javascript:void(0)" ng-click="paginateYears(year); showYearsPagination = !showYearsPagination;">',"<span>","{{year}}","<i ng-class=\"{'_720kb-datepicker-calendar-header-closed-pagination': !showYearsPagination, '_720kb-datepicker-calendar-header-opened-pagination': showYearsPagination}\"></i>","</span>","</a>","</div>",'<div class="_720kb-datepicker-calendar-header-right">','<a class="_720kb-datepicker-calendar-month-button" ng-class="{\'_720kb-datepicker-item-hidden\': !willNextMonthBeSelectable()}" href="javascript:void(0)" ng-click="nextMonth()" title="{{ buttonNextTitle }}">',t,"</a>","</div>","</div>"]},s=function(e,t){return['<div class="_720kb-datepicker-calendar-header" ng-show="showYearsPagination">','<div class="_720kb-datepicker-calendar-years-pagination">','<a ng-class="{\'_720kb-datepicker-active\': y === year, \'_720kb-datepicker-disabled\': !isSelectableMaxYear(y) || !isSelectableMinYear(y)}" href="javascript:void(0)" ng-click="setNewYear(y)" ng-repeat="y in paginationYears track by $index">',"{{y}}","</a>","</div>",'<div class="_720kb-datepicker-calendar-years-pagination-pages">','<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[0])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsPrevDisabled}">',e,"</a>",'<a href="javascript:void(0)" ng-click="paginateYears(paginationYears[paginationYears.length -1 ])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsNextDisabled}">',t,"</a>","</div>","</div>"]},r=function(){return['<div class="_720kb-datepicker-calendar-days-header">','<div ng-repeat="d in daysInString">',"{{d}}","</div>","</div>"]},o=function(){return['<div class="_720kb-datepicker-calendar-body">','<a href="javascript:void(0)" ng-repeat="px in prevMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{px}}","</a>","<a href=\"javascript:void(0)\" ng-repeat=\"item in days\" ng-click=\"setDatepickerDay(item)\" ng-class=\"{'_720kb-datepicker-active': day === item, '_720kb-datepicker-disabled': !isSelectableMinDate(year + '/' + monthNumber + '/' + item ) || !isSelectableMaxDate(year + '/' + monthNumber + '/' + item) || !isSelectableDate(monthNumber, year, item)}\" class=\"_720kb-datepicker-calendar-day\">","{{item}}","</a>",'<a href="javascript:void(0)" ng-repeat="nx in nextMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{nx}}","</a>","</div>"]},l=function(e,t){var i=['<div class="_720kb-datepicker-calendar {{datepickerClass}} {{datepickerID}}" ng-class="{\'_720kb-datepicker-forced-to-open\': checkVisibility()}" ng-blur="hideCalendar()">',"</div>"],a=n(e,t),l=s(e,t),d=r(),h=o(),c=function(e){i.splice(i.length-1,0,e)};return a.forEach(c),
l.forEach(c),d.forEach(c),h.forEach(c),i.join("")},d=function(t,n,s,r,o){var d=function(d,h,c){var u,p,m=c.selector,f=e.element(m?h[0].querySelector("."+m):h[0].children[0]),g='<b class="_720kb-datepicker-default-button">&lang;</b>',v='<b class="_720kb-datepicker-default-button">&rang;</b>',D=c.buttonPrev||g,y=c.buttonNext||v,k=c.dateFormat,T=d.$eval(d.dateDisabledDates),w=new Date,b=!1,M=!1,C=s.DATETIME_FORMATS,_=864e5,S=l(D,y),I=function(){b||M||!u||d.hideCalendar()},E=function(){d.month=r("date")(new Date(d.dateMinLimit),"MMMM"),d.monthNumber=Number(r("date")(new Date(d.dateMinLimit),"MM")),d.day=Number(r("date")(new Date(d.dateMinLimit),"dd")),d.year=Number(r("date")(new Date(d.dateMinLimit),"yyyy"))},x=function(){d.month=r("date")(new Date(d.dateMaxLimit),"MMMM"),d.monthNumber=Number(r("date")(new Date(d.dateMaxLimit),"MM")),d.day=Number(r("date")(new Date(d.dateMaxLimit),"dd")),d.year=Number(r("date")(new Date(d.dateMaxLimit),"yyyy"))},N=function(){d.year=Number(d.year)-1},U=function(){d.year=Number(d.year)+1},F=function(){if(!d.isSelectableMinDate(d.year+"/"+d.monthNumber+"/"+d.day)||!d.isSelectableMaxDate(d.year+"/"+d.monthNumber+"/"+d.day))return!1;var e=new Date(d.year+"/"+d.monthNumber+"/"+d.day);c.dateFormat?f.val(r("date")(e,k)):f.val(e),f.triggerHandler("input"),f.triggerHandler("change")},Y={add:function(e,t){var i;e.className.indexOf(t)>-1||(i=e.className.split(" "),i.push(t),e.className=i.join(" "))},remove:function(e,t){var i,a;if(-1!==e.className.indexOf(t)){for(a=e.className.split(" "),i=0;i<a.length;i+=1)if(a[i]===t){a=a.slice(0,i).concat(a.slice(i+1));break}e.className=a.join(" ")}}},$=function(){p=t.document.getElementsByClassName("_720kb-datepicker-calendar"),e.forEach(p,function(e,t){p[t].classList?p[t].classList.remove("_720kb-datepicker-open"):Y.remove(p[t],"_720kb-datepicker-open")}),u.classList?u.classList.add("_720kb-datepicker-open"):Y.add(u,"_720kb-datepicker-open")},A=function(){return d.datepickerToggle?d.$eval(d.datepickerToggle):!0},O=function(){return d.datepickerShow?d.$eval(d.datepickerShow):!1},V=function(e,t){var i,a,n,s,r=new Date(t,e,0).getDate(),o=new Date(t+"/"+e+"/1").getDay(),l=new Date(t+"/"+e+"/"+r).getDay(),h=[],c=[];for(d.days=[],i=1;r>=i;i+=1)d.days.push(i);if(0===o)d.prevMonthDays=[];else{for(n=o,s=1===Number(e)?12:e-1,i=1;i<=new Date(t,s,0).getDate();i+=1)h.push(i);d.prevMonthDays=h.slice(-n)}if(6>l){for(a=6-l,i=1;a>=i;i+=1)c.push(i);d.nextMonthDays=c}else d.nextMonthDays=[]},H=d.$watch("dateSet",function(e){e&&(w=new Date(e),d.month=r("date")(w,"MMMM"),d.monthNumber=Number(r("date")(w,"MM")),d.day=Number(r("date")(w,"dd")),d.year=Number(r("date")(w,"yyyy")),V(d.monthNumber,d.year),"true"!==d.dateSetHidden&&F())});d.nextMonth=function(){12===d.monthNumber?(d.monthNumber=1,U()):d.monthNumber+=1,d.dateMaxLimit&&(d.isSelectableMaxDate(d.year+"/"+d.monthNumber+"/"+d.days[0])||x()),d.month=r("date")(new Date(d.year,d.monthNumber-1),"MMMM"),V(d.monthNumber,d.year),d.day=void 0},d.willPrevMonthBeSelectable=function(){var e=d.monthNumber,t=d.year,i=r("date")(new Date(new Date(t+"/"+e+"/01").getTime()-_),"dd");return 1===e?(e=12,t-=1):e-=1,!d.dateMinLimit||d.isSelectableMinDate(t+"/"+e+"/"+i)},d.willNextMonthBeSelectable=function(){var e=d.monthNumber,t=d.year;return 12===e?(e=1,t+=1):e+=1,!d.dateMaxLimit||d.isSelectableMaxDate(t+"/"+e+"/01")},d.prevMonth=function(){1===d.monthNumber?(d.monthNumber=12,N()):d.monthNumber-=1,d.dateMinLimit&&(d.isSelectableMinDate(d.year+"/"+d.monthNumber+"/"+d.days[d.days.length-1])||E()),d.month=r("date")(new Date(d.year,d.monthNumber-1),"MMMM"),V(d.monthNumber,d.year),d.day=void 0},d.selectedMonthHandle=function(e){d.monthNumber=Number(r("date")(new Date(e+"/01/2000"),"MM")),V(d.monthNumber,d.year),F()},d.setNewYear=function(e){if(a||(d.day=void 0),d.dateMaxLimit&&d.year<Number(e)){if(!d.isSelectableMaxYear(e))return}else if(d.dateMinLimit&&d.year>Number(e)&&!d.isSelectableMinYear(e))return;d.year=Number(e),V(d.monthNumber,d.year),d.paginateYears(e),d.showYearsPagination=!1},d.hideCalendar=function(){u.classList?u.classList.remove("_720kb-datepicker-open"):Y.remove(u,"_720kb-datepicker-open")},d.setDatepickerDay=function(e){d.isSelectableDate(d.monthNumber,d.year,e)&&d.isSelectableMaxDate(d.year+"/"+d.monthNumber+"/"+e)&&d.isSelectableMinDate(d.year+"/"+d.monthNumber+"/"+e)&&(d.day=Number(e),F(),c.hasOwnProperty("dateRefocus")&&f[0].focus(),d.hideCalendar())},d.paginateYears=function(e){var t,i=[],n=10,s=10;for(d.paginationYears=[],a&&(n=50,s=50,d.dateMinLimit&&d.dateMaxLimit&&(e=new Date(d.dateMaxLimit).getFullYear(),n=e-new Date(d.dateMinLimit).getFullYear(),s=1)),t=n;t>0;t-=1)i.push(Number(e)-t);for(t=0;s>t;t+=1)i.push(Number(e)+t);"true"===d.dateTyper&&f.on("keyup blur",function(){if(f[0].value&&f[0].value.length&&f[0].value.length>0)try{w=new Date(f[0].value.toString()),w.getFullYear()&&!isNaN(w.getDay())&&!isNaN(w.getMonth())&&d.isSelectableDate(w)&&d.isSelectableMaxDate(w)&&d.isSelectableMinDate(w)&&d.$apply(function(){d.month=r("date")(w,"MMMM"),d.monthNumber=Number(r("date")(w,"MM")),d.day=Number(r("date")(w,"dd")),4===w.getFullYear().toString().length&&(d.year=Number(r("date")(w,"yyyy"))),V(d.monthNumber,d.year)})}catch(e){return e}}),d.dateMaxLimit&&i&&i.length&&!d.isSelectableMaxYear(Number(i[i.length-1])+1)?d.paginationYearsNextDisabled=!0:d.paginationYearsNextDisabled=!1,d.dateMinLimit&&i&&i.length&&!d.isSelectableMinYear(Number(i[0])-1)?d.paginationYearsPrevDisabled=!0:d.paginationYearsPrevDisabled=!1,d.paginationYears=i},d.isSelectableDate=function(e,t,i){var a=0;if(T&&T.length>0)for(a;a<=T.length;a+=1)if(new Date(T[a]).getTime()===new Date(e+"/"+i+"/"+t).getTime())return!1;return!0},d.isSelectableMinDate=function(e){return!(d.dateMinLimit&&new Date(d.dateMinLimit)&&new Date(e).getTime()<new Date(d.dateMinLimit).getTime())},d.isSelectableMaxDate=function(e){return!(d.dateMaxLimit&&new Date(d.dateMaxLimit)&&new Date(e).getTime()>new Date(d.dateMaxLimit).getTime())},d.isSelectableMaxYear=function(e){return!(d.dateMaxLimit&&e>new Date(d.dateMaxLimit).getFullYear())},d.isSelectableMinYear=function(e){return!(d.dateMinLimit&&e<new Date(d.dateMinLimit).getFullYear())},S=S.replace(/{{/g,o.startSymbol()).replace(/}}/g,o.endSymbol()),d.dateMonthTitle=d.dateMonthTitle||"Select month",d.dateYearTitle=d.dateYearTitle||"Select year",d.buttonNextTitle=d.buttonNextTitle||"Next",d.buttonPrevTitle=d.buttonPrevTitle||"Prev",d.month=r("date")(w,"MMMM"),d.monthNumber=Number(r("date")(w,"MM")),d.day=Number(r("date")(w,"dd")),d.dateMaxLimit?d.year=Number(r("date")(new Date(d.dateMaxLimit),"yyyy")):d.year=Number(r("date")(w,"yyyy")),d.months=C.MONTH,d.daysInString=["0","1","2","3","4","5","6"].map(function(e){return r("date")(new Date(new Date("06/08/2014").valueOf()+i*e),"EEE")}),d.datepickerAppendTo&&-1!==d.datepickerAppendTo.indexOf(".")?(d.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),e.element(document.getElementsByClassName(d.datepickerAppendTo.replace(".",""))[0]).append(n(e.element(S))(d,function(t){u=e.element(t)[0]}))):d.datepickerAppendTo&&-1!==d.datepickerAppendTo.indexOf("#")?(d.datepickerID="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8),e.element(document.getElementById(d.datepickerAppendTo.replace("#",""))).append(n(e.element(S))(d,function(t){u=e.element(t)[0]}))):d.datepickerAppendTo&&"body"===d.datepickerAppendTo?(d.datepickerID="datepicker-id-"+((new Date).getTime()+(Math.floor(6*Math.random())+8)),e.element(document).find("body").append(n(e.element(S))(d,function(t){u=e.element(t)[0]}))):(f.after(n(e.element(S))(d)),u=h[0].querySelector("._720kb-datepicker-calendar")),A()&&f.on("focus click focusin",function(){M=!0,b||M||!u?$():d.hideCalendar()}),f.on("focusout blur",function(){M=!1}),e.element(u).on("mouseenter",function(){b=!0}),e.element(u).on("mouseleave",function(){b=!1}),e.element(u).on("focusin",function(){b=!0}),e.element(t).on("click focus focusin",I),(d.dateMinLimit&&!d.isSelectableMinYear(d.year)||!d.isSelectableMinDate(d.year+"/"+d.monthNumber+"/"+d.day))&&E(),(d.dateMaxLimit&&!d.isSelectableMaxYear(d.year)||!d.isSelectableMaxDate(d.year+"/"+d.monthNumber+"/"+d.day))&&x(),d.paginateYears(d.year),V(d.monthNumber,d.year),d.checkVisibility=O,d.$on("$destroy",function(){H(),f.off("focus click focusout blur"),e.element(u).off("mouseenter mouseleave focusin"),e.element(t).off("click focus focusin",I)})};return{restrict:"AEC",scope:{dateSet:"@",dateMinLimit:"@",dateMaxLimit:"@",dateMonthTitle:"@",dateYearTitle:"@",buttonNextTitle:"@",buttonPrevTitle:"@",dateDisabledDates:"@",dateSetHidden:"@",dateTyper:"@",datepickerAppendTo:"@",datepickerToggle:"@",datepickerClass:"@",datepickerShow:"@"},link:d}};e.module("720kb.datepicker",[]).directive("datepicker",["$window","$compile","$locale","$filter","$interpolate",d])}(angular,navigator),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function n(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function s(e){return function(){return this[e].apply(this,arguments)}}function r(e){return e&&!isNaN(e.getTime())}function o(t,i){function a(e,t){return t.toLowerCase()}var n,s=e(t).data(),r={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in s)i.test(l)&&(n=l.replace(o,a),r[n]=s[l]);return r}function l(t){var i={};if(g[t]||(t=t.split("-")[0],g[t])){var a=g[t];return e.each(f,function(e,t){t in a&&(i[t]=a[t])}),i}}var d=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,a=this.length;a>i;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new d;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),h=function(t,i){e(t).data("datepicker",this),this._process_options(i),this.dates=new d,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=e(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_resolveViewName:function(e,i){return 0===e||"days"===e||"month"===e?0:1===e||"months"===e||"year"===e?1:2===e||"years"===e||"decade"===e?2:3===e||"decades"===e||"century"===e?3:4===e||"centuries"===e||"millennium"===e?4:i===t?!1:i},_check_template:function(i){try{if(i===t||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var a=e(i);return a.length>0}catch(n){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),s=n.language;g[s]||(s=s.split("-")[0],g[s]||(s=m.language)),n.language=s,n.startView=this._resolveViewName(n.startView,0),n.minViewMode=this._resolveViewName(n.minViewMode,0),n.maxViewMode=this._resolveViewName(n.maxViewMode,4),n.startView=Math.min(n.startView,n.maxViewMode),n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate!==!1&&(n.multidate=Math.max(0,n.multidate))),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=v.parseFormat(n.format);n.startDate!==-(1/0)&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=v.parseDate(n.startDate,r,n.language,n.assumeNearbyYear):n.startDate=-(1/0)),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=v.parseDate(n.endDate,r,n.language,n.assumeNearbyYear):n.endDate=1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)}),n.daysOfWeekHighlighted=n.daysOfWeekHighlighted||[],e.isArray(n.daysOfWeekHighlighted)||(n.daysOfWeekHighlighted=n.daysOfWeekHighlighted.split(/[,\s]*/)),n.daysOfWeekHighlighted=e.map(n.daysOfWeekHighlighted,function(e){return parseInt(e,10)}),n.datesDisabled=n.datesDisabled||[],e.isArray(n.datesDisabled)||(n.datesDisabled=[n.datesDisabled]),n.datesDisabled=e.map(n.datesDisabled,function(e){return v.parseDate(e,r,n.language,n.assumeNearbyYear)});var o=String(n.orientation).toLowerCase().split(/\s+/g),l=n.orientation.toLowerCase();if(o=e.grep(o,function(e){return/^auto|left|right|top|bottom$/.test(e)}),n.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===o.length)switch(o[0]){case"top":case"bottom":n.orientation.y=o[0];break;case"left":case"right":n.orientation.x=o[0]}else l=e.grep(o,function(e){return/^left|right$/.test(e)}),n.orientation.x=l[0]||"auto",l=e.grep(o,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=l[0]||"auto";if(n.defaultViewDate){var d=n.defaultViewDate.year||(new Date).getFullYear(),h=n.defaultViewDate.month||0,c=n.defaultViewDate.day||1;n.defaultViewDate=i(d,h,c)}else n.defaultViewDate=a()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var i,a,n,s=0;s<e.length;s++)i=e[s][0],2===e[s].length?(a=t,n=e[s][1]):3===e[s].length&&(a=e[s][1],n=e[s][2]),i.on(n,a)},_unapplyEvents:function(e){for(var i,a,n,s=0;s<e.length;s++)i=e[s][0],2===e[s].length?(n=t,a=e[s][1]):3===e[s].length&&(n=e[s][1],a=e[s][2]),i.off(a,n)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.inputField,t],[this.component,{click:e.proxy(this.show,this)}]]:this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var a=i||this.dates.get(-1),n=this._utc_to_local(a);this.element.trigger({type:t,date:n,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return v.formatDate(i,t,this.o.language)},this)})},show:function(){return this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this)},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==e.inArray("text/plain",t.originalEvent.clipboardData.types))i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),t.preventDefault()},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),remove:s("destroy"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var a=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,i,a)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),a=10,n=e(this.o.container),s=n.width(),r="body"===this.o.container?e(document).scrollTop():n.scrollTop(),o=n.offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var d=Math.max.apply(Math,l)+this.o.zIndexOffset,h=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=h.left-o.left,m=h.top-o.top;"body"!==this.o.container&&(m+=r),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-u)):h.left<0?(this.picker.addClass("datepicker-orient-left"),p-=h.left-a):p+t>s?(this.picker.addClass("datepicker-orient-right"),p+=u-t):this.picker.addClass("datepicker-orient-left");var f,g=this.o.orientation.y;if("auto"===g&&(f=-r+m-i,g=0>f?"bottom":"top"),this.picker.addClass("datepicker-orient-"+g),"top"===g?m-=i+parseInt(this.picker.css("padding-top")):m+=c,this.o.rtl){var v=s-(p+u);this.picker.css({top:m,right:v,zIndex:d})}else this.picker.css({top:m,left:p,zIndex:d});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],a=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),a=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=e.grep(i,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,a?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var t=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1}),i+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)i+='<th class="dow',e.inArray(t,this.o.daysOfWeekDisabled)>-1&&(i+=" disabled"),i+='">'+g[this.o.language].daysMin[t++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",i=0;12>i;){var a=e&&e.getMonth()===i?" focused":"";t+='<span class="month'+a+'">'+g[this.o.language].monthsShort[i++]+"</span>"}this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],a=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s=new Date;return t.getUTCFullYear()<a||t.getUTCFullYear()===a&&t.getUTCMonth()<n?i.push("old"):(t.getUTCFullYear()>a||t.getUTCFullYear()===a&&t.getUTCMonth()>n)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===s.getFullYear()&&t.getUTCMonth()===s.getMonth()&&t.getUTCDate()===s.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,a,n,s,r,o,l,d){var h,c,u,p,m,f,g,v,D,y,k;for(h="",c=this.picker.find(i),u=parseInt(r/n,10)*n,m=parseInt(o/s,10)*s,f=parseInt(l/s,10)*s,p=e.map(this.dates,function(e){return parseInt(e.getUTCFullYear()/s,10)*s}),c.find(".datepicker-switch").text(u+"-"+(u+9*s)),g=u-s,v=-1;11>v;v+=1)D=[a],y=null,-1===v?D.push("old"):10===v&&D.push("new"),-1!==e.inArray(g,p)&&D.push("active"),(m>g||g>f)&&D.push("disabled"),g===this.viewDate.getFullYear()&&D.push("focused"),d!==e.noop&&(k=d(new Date(g,0,1)),k===t?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&D.push("disabled"),k.classes&&(D=D.concat(k.classes.split(/\s+/))),k.tooltip&&(y=k.tooltip)),h+='<span class="'+D.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+g+"</span>",g+=s;c.find("td").html(h)},fill:function(){var a,n,s=new Date(this.viewDate),r=s.getUTCFullYear(),o=s.getUTCMonth(),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),d=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=g[this.o.language].today||g.en.today||"",p=g[this.o.language].clear||g.en.clear||"",m=g[this.o.language].titleFormat||g.en.titleFormat;if(!isNaN(r)&&!isNaN(o)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(s,m,this.o.language)),this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var f=i(r,o-1,28),D=v.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(D),f.setUTCDate(D-(f.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(f);f.getUTCFullYear()<100&&y.setUTCFullYear(f.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var k,T=[];f.valueOf()<y;){if(f.getUTCDay()===this.o.weekStart&&(T.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),b=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),M=new Date(Number(M=i(b.getUTCFullYear(),0,1))+(11-M.getUTCDay())%7*864e5),C=(b-M)/864e5/7+1;T.push('<td class="cw">'+C+"</td>")}k=this.getClassNames(f),k.push("day"),this.o.beforeShowDay!==e.noop&&(n=this.o.beforeShowDay(this._utc_to_local(f)),n===t?n={}:"boolean"==typeof n?n={enabled:n}:"string"==typeof n&&(n={classes:n}),n.enabled===!1&&k.push("disabled"),n.classes&&(k=k.concat(n.classes.split(/\s+/))),n.tooltip&&(a=n.tooltip)),k=e.unique(k),T.push('<td class="'+k.join(" ")+'"'+(a?' title="'+a+'"':"")+(this.o.dateCells?' data-date="'+f.getTime().toString()+'"':"")+">"+f.getUTCDate()+"</td>"),a=null,f.getUTCDay()===this.o.weekEnd&&T.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(T.join(""));var _=g[this.o.language].monthsTitle||g.en.monthsTitle||"Months",S=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?_:r).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===r&&S.eq(t.getUTCMonth()).addClass("active")}),(l>r||r>h)&&S.addClass("disabled"),r===l&&S.slice(0,d).addClass("disabled"),r===h&&S.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var I=this;e.each(S,function(i,a){var n=new Date(r,i,1),s=I.o.beforeShowMonth(n);s===t?s={}:"boolean"==typeof s?s={enabled:s}:"string"==typeof s&&(s={classes:s}),s.enabled!==!1||e(a).hasClass("disabled")||e(a).addClass("disabled"),s.classes&&e(a).addClass(s.classes),s.tooltip&&e(a).prop("title",s.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,r,l,h,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,r,l,h,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,r,l,h,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").addClass("disabled"):this.picker.find(".prev").removeClass("disabled"),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").addClass("disabled"):this.picker.find(".next").removeClass("disabled");break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").addClass("disabled"):this.picker.find(".prev").removeClass("disabled"),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").addClass("disabled"):this.picker.find(".next").removeClass("disabled")}}},click:function(t){t.preventDefault(),t.stopPropagation();var n,s,r,o,l,d,h;n=e(t.target),n.hasClass("datepicker-switch")&&this.showMode(1);var c=n.closest(".prev, .next");c.length>0&&(s=v.modes[this.viewMode].navStep*(c.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),n.hasClass("today")&&!n.hasClass("day")&&(this.showMode(-2),this._setDate(a(),"linked"===this.o.todayBtn?null:"view")),n.hasClass("clear")&&this.clearDates(),n.hasClass("disabled")||(n.hasClass("day")&&(r=parseInt(n.text(),10)||1,o=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),n.hasClass("old")&&(0===l?(l=11,o-=1,d=!0,h=!0):(l-=1,d=!0)),n.hasClass("new")&&(11===l?(l=0,o+=1,d=!0,h=!0):(l+=1,d=!0)),this._setDate(i(o,l,r)),h&&this._trigger("changeYear",this.viewDate),d&&this._trigger("changeMonth",this.viewDate)),n.hasClass("month")&&(this.viewDate.setUTCDate(1),r=1,l=n.parent().find("span").index(n),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(l),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(i(o,l,r)),this.showMode()):this.showMode(-1),this.fill()),(n.hasClass("year")||n.hasClass("decade")||n.hasClass("century"))&&(this.viewDate.setUTCDate(1),r=1,l=0,o=parseInt(n.text(),10)||0,this.viewDate.setUTCFullYear(o),n.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(o,l,r))),n.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(i(o,l,r))),n.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(i(o,l,r))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var i=new Date(e);return i.setUTCDate(e.getUTCDate()+t),i},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!r(e))return this.o.defaultViewDate;
if(!t)return e;var i,a,n=new Date(e.valueOf()),s=n.getUTCDate(),o=n.getUTCMonth(),l=Math.abs(t);if(t=t>0?1:-1,1===l)a=-1===t?function(){return n.getUTCMonth()===o}:function(){return n.getUTCMonth()!==i},i=o+t,n.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var d=0;l>d;d++)n=this.moveMonth(n,t);i=n.getUTCMonth(),n.setUTCDate(s),a=function(){return i!==n.getUTCMonth()}}for(;a();)n.setUTCDate(--s),n.setUTCMonth(i);return n},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,i){do{if(e=this[i](e,t),!this.dateWithinRange(e))return!1;i="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return n(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void((40===e.keyCode||27===e.keyCode)&&(this.show(),e.stopPropagation()));var t,i,a=!1,n=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(i=this.moveAvailableDate(n,t,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveAvailableDate(n,t,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):37===e.keyCode||39===e.keyCode?i=this.moveAvailableDate(n,t,"moveDay"):this.weekOfDateIsDisabled(n)||(i=this.moveAvailableDate(n,t,"moveWeek")):1===this.viewMode?((38===e.keyCode||40===e.keyCode)&&(t=4*t),i=this.moveAvailableDate(n,t,"moveMonth")):2===this.viewMode&&((38===e.keyCode||40===e.keyCode)&&(t=4*t),i=this.moveAvailableDate(n,t,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;n=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(n),a=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}a&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var c=function(t,i){e(t).data("datepicker",this),this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,p.call(e(this.inputs),i).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=e(t.target).data("datepicker");if("undefined"!=typeof i){var a=i.getUTCDate(),n=e.inArray(t.target,this.inputs),s=n-1,r=n+1,o=this.inputs.length;if(-1!==n){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(a)}),a<this.dates[s])for(;s>=0&&a<this.dates[s];)this.pickers[s--].setUTCDate(a);else if(a>this.dates[r])for(;o>r&&a>this.dates[r];)this.pickers[r++].setUTCDate(a);this.updateDates(),delete this.updating}}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var u=e.fn.datepicker,p=function(i){var a=Array.apply(null,arguments);a.shift();var n;if(this.each(function(){var t=e(this),s=t.data("datepicker"),r="object"==typeof i&&i;if(!s){var d=o(this,"date"),u=e.extend({},m,d,r),p=l(u.language),f=e.extend({},m,p,d,r);t.hasClass("input-daterange")||f.inputs?(e.extend(f,{inputs:f.inputs||t.find("input").toArray()}),s=new c(this,f)):s=new h(this,f),t.data("datepicker",s)}"string"==typeof i&&"function"==typeof s[i]&&(n=s[i].apply(s,a))}),n===t||n instanceof h||n instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return n};e.fn.datepicker=p;var m=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,dateCells:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},f=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=h;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,v.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\x00").split("\x00"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(n,s,r,o){function l(e,t){return t===!0&&(t=10),100>e&&(e+=2e3,e>(new Date).getFullYear()+t&&(e-=100)),e}function d(){var e=this.slice(0,D[p].length),t=D[p].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!n)return t;if(n instanceof Date)return n;if("string"==typeof s&&(s=v.parseFormat(s)),s.toValue)return s.toValue(n,s,r);var c,u,p,m,f=/([\-+]\d+)([dmwy])/,D=n.match(/([\-+]\d+)([dmwy])/g),y={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},k={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,p=0;p<D.length;p++)c=f.exec(D[p]),u=parseInt(c[1]),m=y[c[2]],n=h.prototype[m](n,u);return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())}if("undefined"!=typeof k[n]&&(n=k[n],D=n.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n))){for(n=new Date,p=0;p<D.length;p++)c=f.exec(D[p]),u=parseInt(c[1]),m=y[c[2]],n=h.prototype[m](n,u);return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())}D=n&&n.match(this.nonpunctuation)||[],n=new Date;var T,w,b={},M=["yyyy","yy","M","MM","m","mm","d","dd"],C={yyyy:function(e,t){return e.setUTCFullYear(o?l(t,o):t)},yy:function(e,t){return e.setUTCFullYear(o?l(t,o):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};C.M=C.MM=C.mm=C.m,C.dd=C.d,n=a();var _=s.parts.slice();if(D.length!==_.length&&(_=e(_).filter(function(t,i){return-1!==e.inArray(i,M)}).toArray()),D.length===_.length){var S;for(p=0,S=_.length;S>p;p++){if(T=parseInt(D[p],10),c=_[p],isNaN(T))switch(c){case"MM":w=e(g[r].months).filter(d),T=e.inArray(w[0],g[r].months)+1;break;case"M":w=e(g[r].monthsShort).filter(d),T=e.inArray(w[0],g[r].monthsShort)+1}b[c]=T}var I,E;for(p=0;p<M.length;p++)E=M[p],E in b&&!isNaN(b[E])&&(I=new Date(n),C[E](I,b[E]),isNaN(I)||(n=I))}return n},formatDate:function(t,i,a){if(!t)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(t,i,a);var n={d:t.getUTCDate(),D:g[a].daysShort[t.getUTCDay()],DD:g[a].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[a].monthsShort[t.getUTCMonth()],MM:g[a].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var s=e.extend([],i.separators),r=0,o=i.parts.length;o>=r;r++)s.length&&t.push(s.shift()),t.push(n[i.parts[r]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=u,this},e.fn.datepicker.version="1.7.0-dev",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),p.call(i,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}),$(document).on("keydown",function(e){8===e.which&&"INPUT"!==e.target.nodeName&&"SELECT"!==e.target.nodeName&&e.preventDefault()}),angular.module("eventApp",["ngRoute","ngMessages","firebase","ui.timepicker","720kb.datepicker"]).controller("AppController",["$scope","$document","$rootScope","$location","$routeParams","$firebaseObject","$firebaseArray","$timeout","EventService",function(e,t,i,a,n,s,r,o,l){function d(t,i){t?o(function(){e.signInFailure=!0},0):(o(function(){e.isLoggedIn=!0,e.signInFailure=!1},0),e.authUser=i.uid,o(h,500))}function h(){e.topMenuSelect("edit"),l.addUser({email:e.email}),a.path("/event/")}e.isLoggedIn=!1,e.signInFailure=!1,e.isRegistered=!1,e.signinWindow=function(){o(function(){document.getElementById("signinemail").focus()},500)},e.registerWindow=function(){o(function(){document.getElementById("registername").focus()},500),e.regForm.$setUntouched(),e.regForm.$setPristine()},e.resetUser=function(){e.user={}};var c="https://scurve.firebaseio.com",u=new Firebase(c);e.logOut=function(){e.isLoggedIn=!1,e.isRegistered=!1,e.registerError=!1,e.resetUser(),l.ClearUser(),e.events={},e.topMenuSelect("contact"),a.path("#/home"),u.unauth(),e.authUser=null,o(function(){document.getElementById("signinButton").focus()},1e3)},e.signIn=function(t){t.preventDefault();var i=e.user.email,a=e.user.password;u.authWithPassword({email:i,password:a},d)},e.log=function(t){e.isRegistered=!0,console.log("Hi! You're registered")},e.log2=function(e){i.isLoggedIn=!0,console.log("Hi! You're logged in")},e.registerUser=function(t){t.preventDefault();var i=e.user.email,a=e.user.name,n=e.user.password,s={name:a,email:i};u.createUser({email:i,password:n},function(t,i){t?(console.log("Error creating user: "+t),o(function(){e.registerError=!0},1e3)):(e.isRegistered=!0,e.registerError=!1,e.users.$add(s))})},e.contactMenuIsSelected=!0,e.topMenuSelect=function(t){switch(t){case"contact":e.contactMenuIsSelected=!0,e.editMenuIsSelected=!1,e.allMenuIsSelected=!1;break;case"edit":e.isLoggedIn?(e.contactMenuIsSelected=!1,e.editMenuIsSelected=!0,e.allMenuIsSelected=!1):e.contactMenuIsSelected=!0;break;case"all":e.isLoggedIn?(e.contactMenuIsSelected=!1,e.editMenuIsSelected=!1,e.allMenuIsSelected=!0):e.contactMenuIsSelected=!0}}}]).service("EventService",function(){var e=this,t=[];e.getUser=function(e){return 1===t.length?t[0]:null},e.addUser=function(e){t.push(e)},e.ClearUser=function(){t=[]}}).config(["$routeProvider",function(e){e.when("/",{controller:"AppController",controllerAs:"app"}).when("/contact",{templateUrl:"contact/templates/contactus.html",controller:"AppController",controllerAs:"app"}).when("/signin",{templateUrl:"signIn/templates/signIn.html",controller:"SignInCtrl"}).when("/signin/:email",{templateUrl:"signIn/templates/signIn.html",controller:"SignInCtrl"}).when("/register",{templateUrl:"register/templates/register.html",controller:"RegisterCtrl"}).when("/event",{templateUrl:"events/templates/event.html",controller:"EventController"}).when("/allevents",{templateUrl:"events/templates/allEventsDetails.html",controller:"EventController"}).otherwise({redirectTo:"/contact"})}]).directive("notLoggedin",function(){return{restrict:"E",templateUrl:"welcome/templates/welcome.html",controller:"AppController"}}).directive("eventSummary",function(){return{restrict:"E",templateUrl:"events/templates/eventSummary.html",controller:"EventController",link:function(e,t,i,a,n){}}}).directive("emailIsvalid",["$timeout",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,a,n){function s(t){var a,s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return i.on("focus",e(function(){a=!0;var e=i.val().replace(/ /g,"");return e=e.split(","),angular.forEach(e,function(e,t){a=a&&s.test(e)}),console.log("guestlist is valid? "+a),n.$setViewValue(i.val()),n.$render(),n.$setValidity("guestAddressList",a),t},0)),t}n.$parsers.push(s)}}}]).directive("eventDetails",function(){return{restrict:"EA",templateUrl:"events/templates/eventDetails.html",controller:"EventController"}}).directive("geteventLocation",["$timeout",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,a,n){function s(t){function a(){return n.$setViewValue(i.val()),n.$render(),t}return i.on("blur",function(){e(a,0)}),t}n.$parsers.push(s)}}}]).directive("strongPassword",function(){return{restrict:"A",require:"ngModel",link:function(e,t,i,a){function n(e){return/[a-z]/.test(e)?a.$setValidity("lowercaseValidator",!0):a.$setValidity("lowercaseValidator",!1),/[A-Z]/.test(e)?a.$setValidity("uppercaseValidator",!0):a.$setValidity("uppercaseValidator",!1),/[0-9]/.test(e)?a.$setValidity("numberValidator",!0):a.$setValidity("numberValidator",!1),/\W+/.test(e)?a.$setValidity("specialCharValidator",!0):a.$setValidity("specialCharValidator",!1),e.length>=8?a.$setValidity("lengthValidator",!0):a.$setValidity("lengthValidator",!1),e}a.$parsers.push(n)}}}).directive("titleBar",function(){return{restrict:"AE",scope:"=",controller:"AppController",templateUrl:"signIn/templates/titlebar.html"}}).controller("EventController",["$scope","$document","$location","$routeParams","$filter","$firebaseArray","$timeout",function(e,t,i,a,n,s,r){function o(){var t=new Date;e.event.eventStartDate=n("date")(new Date(t),"M/d/yyyy"),e.event.eventEndDate=n("date")(new Date(t),"M/d/yyyy"),e.event.eventStartTime=t,e.event.eventEndTime=l(t,c)}function l(e,t){var i=new Date(e);return i.setHours(e.getHours()+t),i}function d(e,t){var i=e.keyCode||e.which;9==i&&(e.preventDefault(),$(t).focus())}window.onkeydown=function(e){8==e.keyCode&&e.target==document.body&&e.preventDefault()},e.event={},e.user={},e.events={},e.readOnly=!1,e.isEditing=!1,e.validateSelection=!1,e.endDateIsSet=!1,e.eventCreatedSuccess=!1,e.eventEditedSuccess=!1;var h,c=2;e.selectedEvent=null,e.isEditing||o(),e.timePickerOptions={step:30,timeFormat:"g:ia",appendTo:"body"},e.dateIsValid=function(e){var t=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/;return null==e||""==e||void 0==e?!1:!!t.test(e)},e.timeIsValid=function(e){var t=/^(\d{1,2}):(\d{1,2})\s(am|AM|pm|PM)$/;if(null==e||""==e||void 0==e)return!1;if(e instanceof Date){var i=n("date")(new Date(e),"shortTime");return t.test(i)}return!1},$("#eventStartDate").on("change",function(){if(!e.readOnly&&!e.isEditing){var t=new Date($("#eventStartTime").timepicker("getTime")),i=new Date(e.event.eventStartDate);i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),e.event.eventStartTime=i}new Date(e.event.eventStartDate)>new Date(e.event.eventEndDate)&&(e.event.eventEndDate=e.event.eventStartDate,e.event.eventStartTime>e.event.eventEndTime&&(e.event.eventEndTime=l(new Date(e.event.eventStartTime),c)))}),$("#editedEventStartDate").on("change",function(){if(!e.readOnly&&e.isEditing){var t=new Date($("#editedEventStartTime").timepicker("getTime")),i=new Date(e.editedEvent.eventStartDate);i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),e.editedEvent.eventStartTime=i}new Date(e.editedEvent.eventStartDate)>new Date(e.editedEvent.eventEndDate)&&(e.editedEvent.eventEndDate=e.editedEvent.eventStartDate,e.editedEvent.eventStartTime>e.editedEvent.eventEndTime&&(e.event.editedEventEndTime=l(new Date(e.editedEvent.eventStartTime),c)))}),$("#eventEndDate").on("change",function(){if(!e.readOnly&&!e.isEditing){var t=new Date($("#eventEndTime").timepicker("getTime")),i=new Date(e.event.eventEndDate);i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),e.event.eventEndTime=i}new Date(e.event.eventEndDate)<new Date(e.event.eventStartDate)&&(e.event.eventStartDate=e.event.eventEndDate,e.event.eventStartTime>e.event.eventEndTime&&(e.event.eventEndTime=l(new Date(e.event.eventStartTime),c)))}),$("#editedEventEndDate").on("change",function(){if(!e.readOnly&&!e.isEditing){var t=new Date($("#editedEventEndTime").timepicker("getTime")),i=new Date(e.editedEvent.eventEndDate);i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),e.editedEvent.eventEndTime=i}new Date(e.editedEvent.eventEndDate)<new Date(e.editedEvent.eventStartDate)&&(e.editedEvent.eventStartDate=e.editedEvent.eventEndDate,e.editedEvent.eventStartTime>e.editedEvent.eventEndTime&&(e.editedEvent.eventEndTime=l(new Date(e.editedEvent.eventStartTime),c)))}),$("#eventStartDate").on("keydown",function(e){d(e,"#eventStartTime")}),$("#eventEndDate").on("keydown",function(e){d(e,"#eventEndTime")}),$("#editedEventStartDate").on("keydown",function(e){d(e,"#editedEventStartTime")}),$("#editedEventEndDate").on("keydown",function(e){d(e,"#editedEventEndTime")}),$("#eventStartTime").on("change",function(){e.event.eventEndDate==e.event.eventStartDate&&e.event.eventStartTime>=e.event.eventEndTime&&r(function(){e.event.eventEndTime=l(e.event.eventStartTime,2)},0)}),$("#editedEventStartTime").on("change",function(){e.editedEvent.eventEndDate==e.editedEvent.eventStartDate&&e.editedEvent.eventStartTime>=e.editedEvent.eventEndTime&&r(function(){e.editedEvent.eventEndTime=l(e.editedEvent.eventStartTime,2)},0)}),$("#eventEndTime").on("change",function(){e.event.eventEndDate==e.event.eventStartDate&&e.event.eventStartTime>e.event.eventEndTime&&r(function(){e.event.eventEndTime=l(e.event.eventStartTime,2)},0)}),$("#editedEventEndTime").on("change",function(){e.editedEvent.eventEndDate==e.editedEvent.eventStartDate&&e.editedEvent.eventStartTime>e.editedEvent.eventEndTime&&r(function(){e.editedEvent.eventEndTime=l(e.editedEvent.eventStartTime,2)},0)}),e.dateRangeIsValid=function(){},e.guestList=function(e){if(e){var t="";return e.forEach(function(e){t+=e+", "}),t}return null};var u="https://scurve.firebaseio.com/";if(e.$parent.authUser){var p=new Firebase(u+"xevents/user/"+e.authUser);e.events=s(p),e.events.$loaded().then(function(t){t===e.events})["catch"](function(e){})}e.isRequired=function(){return!0},e.clearEventForm=function(){e.event={},o(),document.getElementById("eventName").focus(),e.validateSelection=!1,e.readOnly=!1,e.isEditing=!1,e.eventForm.$setUntouched(),e.eventForm.$setPristine()},e.numberOfEvents=function(){return e.events.length},e.setMenuActive=function(t){e.$parent.topMenuSelect(t)},e.eventListIsEmpty=function(){return 0===e.numberOfEvents()},e.convertDate=function(e){return new Date(e)},e.selectEvent=function(t,i,a){e.eventCreatedSuccess=i||!1,e.eventEditedSuccess=a||!1,t.eventStartTime=new Date(t.eventStartTime),t.eventEndTime=new Date(t.eventEndTime),e.validateSelection=!0,e.selectedEvent=angular.copy(t),e.eventSelected=!0,e.readOnly=!0,e.isEditing=!1,e.event=t,e.eventSelectedId=t.$id,h=e.events.$indexFor(t.$id),r(function(){document.getElementById("editButton").focus()},0)},e.editEvent=function(t,i){i.preventDefault(),e.eventEditedSuccess=!1,e.eventCreatedSuccess=!1,e.readOnly=!1,e.isEditing=!0,e.editedEvent=e.selectedEvent,r(function(){document.getElementById("editedEventName").focus(),t.$setPristine()},0)},e.cancelEditing=function(t){t.preventDefault(),e.selectEvent(e.event)},e.saveEditedEvent=function(t){e.events[h].eventLocation=t.eventLocation,e.events[h].eventGuestList=t.eventGuestList,t.eventNotesCheck&&(e.events[h].eventNotesCheck=t.eventNotesCheck,e.events[h].eventNotes=t.eventNotes),e.events[h].eventName=t.eventName,e.events[h].eventType=t.eventType,e.events[h].eventHost=t.eventHost,e.events[h].eventStartDate=t.eventStartDate,e.events[h].eventStartTime=t.eventStartTime.getTime(),e.events[h].eventEndDate=t.eventEndDate,e.events[h].eventEndTime=t.eventEndTime.getTime(),e.events.$save(e.events.$indexFor(t.$id)).then(function(t){t.key===e.editedEvent.$id}),e.selectEvent(t,!1,!0),r(function(){document.getElementById("eventName").focus()},0)},e.deleteEvent=function(t){e.events.$remove(h).then(function(e){}),e.clearEventForm()},e.createNewEvent=function(t,a,n){n.preventDefault();var s={};s=t,s.eventStartTime=t.eventStartTime.getTime(),s.eventEndTime=t.eventEndTime.getTime(),e.events.$add(s),i.path("/allevents/"),e.setMenuActive("all")}}]);var placeSearch,autocomplete,componentForm={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"};!function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=e[0];return t.offsetWidth>0&&t.offsetHeight>0}function i(t){if(t.minTime&&(t.minTime=y(t.minTime)),t.maxTime&&(t.maxTime=y(t.maxTime)),t.durationTime&&"function"!=typeof t.durationTime&&(t.durationTime=y(t.durationTime)),"now"==t.scrollDefault)t.scrollDefault=function(){return t.roundingFunction(y(new Date),t)};else if(t.scrollDefault&&"function"!=typeof t.scrollDefault){var i=t.scrollDefault;t.scrollDefault=function(){return t.roundingFunction(y(i),t)}}else t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)});if("string"===e.type(t.timeFormat)&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),t.showOnFocus===!1&&-1!=t.showOn.indexOf("focus")&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges.length>0){for(var a in t.disableTimeRanges)t.disableTimeRanges[a]=[y(t.disableTimeRanges[a][0]),y(t.disableTimeRanges[a][1])];t.disableTimeRanges=t.disableTimeRanges.sort(function(e,t){return e[0]-t[0]});for(var a=t.disableTimeRanges.length-1;a>0;a--)t.disableTimeRanges[a][0]<=t.disableTimeRanges[a-1][1]&&(t.disableTimeRanges[a-1]=[Math.min(t.disableTimeRanges[a][0],t.disableTimeRanges[a-1][0]),Math.max(t.disableTimeRanges[a][1],t.disableTimeRanges[a-1][1])],t.disableTimeRanges.splice(a,1))}return t}function a(t){var i=t.data("timepicker-settings"),a=t.data("timepicker-list");if(a&&a.length&&(a.remove(),t.data("timepicker-list",!1)),i.useSelect){a=e("<select />",{"class":"ui-timepicker-select"});var r=a}else{a=e("<ul />",{"class":"ui-timepicker-list"});var r=e("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});r.css({display:"none",position:"absolute"}).append(a)}if(i.noneOption)if(i.noneOption===!0&&(i.noneOption=i.useSelect?"Time...":"None"),e.isArray(i.noneOption)){for(var l in i.noneOption)if(parseInt(l,10)==l){var h=n(i.noneOption[l],i.useSelect);a.append(h)}}else{var h=n(i.noneOption,i.useSelect);a.append(h)}i.className&&r.addClass(i.className),null===i.minTime&&null===i.durationTime||!i.showDuration||("function"==typeof i.step?"function":i.step,r.addClass("ui-timepicker-with-duration"),r.addClass("ui-timepicker-step-"+i.step));var c=i.minTime;"function"==typeof i.durationTime?c=y(i.durationTime()):null!==i.durationTime&&(c=i.durationTime);var p=null!==i.minTime?i.minTime:0,m=null!==i.maxTime?i.maxTime:p+k-1;p>m&&(m+=k),m===k-1&&"string"===e.type(i.timeFormat)&&i.show2400&&(m=k);var f=i.disableTimeRanges,T=0,b=f.length,M=i.step;"function"!=typeof M&&(M=function(){return i.step});for(var l=p,C=0;m>=l;C++,l+=60*M(C)){var _=l,S=D(_,i);if(i.useSelect){var I=e("<option />",{value:S});I.text(S)}else{var I=e("<li />");I.addClass(43200>_%86400?"ui-timepicker-am":"ui-timepicker-pm"),I.data("time",86400>=_?_:_%86400),I.text(S)}if((null!==i.minTime||null!==i.durationTime)&&i.showDuration){var E=v(l-c,i.step);if(i.useSelect)I.text(I.text()+" ("+E+")");else{var x=e("<span />",{"class":"ui-timepicker-duration"});x.text(" ("+E+")"),I.append(x)}}b>T&&(_>=f[T][1]&&(T+=1),f[T]&&_>=f[T][0]&&_<f[T][1]&&(i.useSelect?I.prop("disabled",!0):I.addClass("ui-timepicker-disabled"))),a.append(I)}if(r.data("timepicker-input",t),t.data("timepicker-list",r),i.useSelect)t.val()&&a.val(s(y(t.val()),i)),a.on("focus",function(){e(this).data("timepicker-input").trigger("showTimepicker")}),a.on("blur",function(){e(this).data("timepicker-input").trigger("hideTimepicker")}),a.on("change",function(){u(t,e(this).val(),"select")}),u(t,a.val(),"initial"),t.hide().after(a);else{var N=i.appendTo;"string"==typeof N?N=e(N):"function"==typeof N&&(N=N(t)),N.append(r),d(t,a),a.on("mousedown click","li",function(i){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",w.show)}),o(t)||t[0].focus(),a.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),g(t)&&(t.trigger("hideTimepicker"),a.on("mouseup.timepicker click.timepicker","li",function(e){a.off("mouseup.timepicker click.timepicker"),r.hide()}))})}}function n(t,i){var a,n,s;return"object"==typeof t?(a=t.label,n=t.className,s=t.value):"string"==typeof t?a=t:e.error("Invalid noneOption value"),i?e("<option />",{value:s,"class":n,text:a}):e("<li />",{"class":n,text:a}).data("time",String(s))}function s(e,t){return e=t.roundingFunction(e,t),null!==e?D(e,t):void 0}function r(t){if(t.target!=window){var i=e(t.target);i.closest(".ui-timepicker-input").length||i.closest(".ui-timepicker-wrapper").length||(w.hide(),e(document).unbind(".ui-timepicker"),e(window).unbind(".ui-timepicker"))}}function o(e){var t=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function l(t,i,a){if(!a&&0!==a)return!1;var n=t.data("timepicker-settings"),s=!1,a=n.roundingFunction(a,n);return i.find("li").each(function(t,i){var n=e(i);return"number"==typeof n.data("time")&&n.data("time")==a?(s=n,!1):void 0}),s}function d(e,t){t.find("li").removeClass("ui-timepicker-selected");var i=y(c(e),e.data("timepicker-settings"));if(null!==i){var a=l(e,t,i);if(a){var n=a.offset().top-t.offset().top;(n+a.outerHeight()>t.outerHeight()||0>n)&&t.scrollTop(t.scrollTop()+a.position().top-a.outerHeight()),a.addClass("ui-timepicker-selected")}}}function h(t,i){if(""!==this.value&&"timepicker"!=i){var a=e(this);if(!a.is(":focus")||t&&"change"==t.type){var n=a.data("timepicker-settings"),s=y(this.value,n);if(null===s)return void a.trigger("timeFormatError");var r=!1;null!==n.minTime&&s<n.minTime&&null!==n.maxTime&&s>n.maxTime&&(r=!0),e.each(n.disableTimeRanges,function(){return s>=this[0]&&s<this[1]?(r=!0,!1):void 0}),n.forceRoundTime&&(s=n.roundingFunction(s,n));var o=D(s,n);r?u(a,o,"error")&&a.trigger("timeRangeError"):u(a,o)}}}function c(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function u(e,t,i){if(e.is("input")){e.val(t);var a=e.data("timepicker-settings");a.useSelect&&"select"!=i&&"initial"!=i&&e.data("timepicker-list").val(s(y(t),a))}return e.data("ui-timepicker-value")!=t?(e.data("ui-timepicker-value",t),"select"==i?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):"error"!=i&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function p(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}function m(i){var a=e(this),n=a.data("timepicker-list");if(!n||!t(n)){if(40!=i.keyCode)return!0;w.show.call(a.get(0)),n=a.data("timepicker-list"),o(a)||a.focus()}switch(i.keyCode){case 13:return g(a)&&w.hide.apply(this),i.preventDefault(),!1;case 38:var s=n.find(".ui-timepicker-selected");return s.length?s.is(":first-child")||(s.removeClass("ui-timepicker-selected"),s.prev().addClass("ui-timepicker-selected"),s.prev().position().top<s.outerHeight()&&n.scrollTop(n.scrollTop()-s.outerHeight())):(n.find("li").each(function(t,i){return e(i).position().top>0?(s=e(i),!1):void 0}),s.addClass("ui-timepicker-selected")),!1;case 40:return s=n.find(".ui-timepicker-selected"),0===s.length?(n.find("li").each(function(t,i){return e(i).position().top>0?(s=e(i),!1):void 0}),s.addClass("ui-timepicker-selected")):s.is(":last-child")||(s.removeClass("ui-timepicker-selected"),s.next().addClass("ui-timepicker-selected"),s.next().position().top+2*s.outerHeight()>n.outerHeight()&&n.scrollTop(n.scrollTop()+s.outerHeight())),!1;case 27:n.find("li").removeClass("ui-timepicker-selected"),w.hide();break;case 9:w.hide();break;default:return!0}}function f(i){var a=e(this),n=a.data("timepicker-list"),s=a.data("timepicker-settings");if(!n||!t(n)||s.disableTextInput)return!0;switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:s.typeaheadHighlight?d(a,n):n.hide()}}function g(e){var t=e.data("timepicker-settings"),i=e.data("timepicker-list"),a=null,n=i.find(".ui-timepicker-selected");return n.hasClass("ui-timepicker-disabled")?!1:(n.length&&(a=n.data("time")),null!==a&&("string"!=typeof a&&(a=D(a,t)),u(e,a,"select")),!0)}function v(e,t){e=Math.abs(e);var i,a,n=Math.round(e/60),s=[];return 60>n?s=[n,T.mins]:(i=Math.floor(n/60),a=n%60,30==t&&30==a&&(i+=T.decimal+5),s.push(i),s.push(1==i?T.hr:T.hrs),30!=t&&a&&(s.push(a),s.push(T.mins))),s.join(" ")}function D(t,i){if("number"!=typeof t)return null;var a=parseInt(t%60),n=parseInt(t/60%60),s=parseInt(t/3600%24),r=new Date(1970,0,2,s,n,a,0);if(isNaN(r.getTime()))return null;if("function"===e.type(i.timeFormat))return i.timeFormat(r);for(var o,l,d="",h=0;h<i.timeFormat.length;h++)switch(l=i.timeFormat.charAt(h)){case"a":d+=r.getHours()>11?T.pm:T.am;break;case"A":d+=r.getHours()>11?T.PM:T.AM;break;case"g":o=r.getHours()%12,d+=0===o?"12":o;break;case"G":o=r.getHours(),t===k&&(o=i.show2400?24:0),d+=o;break;case"h":o=r.getHours()%12,0!==o&&10>o&&(o="0"+o),d+=0===o?"12":o;break;case"H":o=r.getHours(),t===k&&(o=i.show2400?24:0),d+=o>9?o:"0"+o;
break;case"i":var n=r.getMinutes();d+=n>9?n:"0"+n;break;case"s":a=r.getSeconds(),d+=a>9?a:"0"+a;break;case"\\":h++,d+=i.timeFormat.charAt(h);break;default:d+=l}return d}function y(e,t){if(""===e||null===e)return null;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;e=e.toLowerCase().replace(/[\s\.]/g,""),("a"==e.slice(-1)||"p"==e.slice(-1))&&(e+="m");var i="("+T.am.replace(".","")+"|"+T.pm.replace(".","")+"|"+T.AM.replace(".","")+"|"+T.PM.replace(".","")+")?",a=new RegExp("^"+i+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+i+"$"),n=e.match(a);if(!n)return null;var s=parseInt(1*n[2],10);if(s>24){if(t&&t.wrapHours===!1)return null;s%=24}var r=n[1]||n[5],o=s;if(12>=s&&r){var l=r==T.pm||r==T.PM;o=12==s?l?12:0:s+(l?12:0)}var d=1*n[3]||0,h=1*n[4]||0,c=3600*o+60*d+h;if(12>s&&!r&&t&&t._twelveHourTime&&t.scrollDefault){var u=c-t.scrollDefault();0>u&&u>=k/-2&&(c=(c+k/2)%k)}return c}var k=86400,T={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},w={init:function(t){return this.each(function(){var n=e(this),s=[];for(var r in e.fn.timepicker.defaults)n.data(r)&&(s[r]=n.data(r));var o=e.extend({},e.fn.timepicker.defaults,s,t);if(o.lang&&(T=e.extend(T,o.lang)),o=i(o),n.data("timepicker-settings",o),n.addClass("ui-timepicker-input"),o.useSelect)a(n);else{if(n.prop("autocomplete","off"),o.showOn)for(var l in o.showOn)n.on(o.showOn[l]+".timepicker",w.show);n.on("change.timepicker",h),n.on("keydown.timepicker",m),n.on("keyup.timepicker",f),o.disableTextInput&&n.on("keydown.timepicker",p),h.call(n.get(0))}})},show:function(i){var n=e(this),s=n.data("timepicker-settings");if(i&&i.preventDefault(),s.useSelect)return void n.data("timepicker-list").focus();o(n)&&n.blur();var h=n.data("timepicker-list");if(!n.prop("readonly")&&(h&&0!==h.length&&"function"!=typeof s.durationTime||(a(n),h=n.data("timepicker-list")),!t(h))){n.data("ui-timepicker-value",n.val()),d(n,h),w.hide(),h.show();var u={};s.orientation.match(/r/)?u.left=n.offset().left+n.outerWidth()-h.outerWidth()+parseInt(h.css("marginLeft").replace("px",""),10):u.left=n.offset().left+parseInt(h.css("marginLeft").replace("px",""),10);var p;p=s.orientation.match(/t/)?"t":s.orientation.match(/b/)?"b":n.offset().top+n.outerHeight(!0)+h.outerHeight()>e(window).height()+e(window).scrollTop()?"t":"b","t"==p?(h.addClass("ui-timepicker-positioned-top"),u.top=n.offset().top-h.outerHeight()+parseInt(h.css("marginTop").replace("px",""),10)):(h.removeClass("ui-timepicker-positioned-top"),u.top=n.offset().top+n.outerHeight()+parseInt(h.css("marginTop").replace("px",""),10)),h.offset(u);var m=h.find(".ui-timepicker-selected");if(!m.length){var f=y(c(n));null!==f?m=l(n,h,f):s.scrollDefault&&(m=l(n,h,s.scrollDefault()))}if(m&&m.length){var g=h.scrollTop()+m.position().top-m.outerHeight();h.scrollTop(g)}else h.scrollTop(0);return s.stopScrollPropagation&&e(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var i=e(this).scrollTop();e(this).scrollTop(i+t.originalEvent.deltaY)}),e(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",r),e(window).on("resize.ui-timepicker",r),s.closeOnWindowScroll&&e(document).on("scroll.ui-timepicker",r),n.trigger("showTimepicker"),this}},hide:function(i){var a=e(this),n=a.data("timepicker-settings");return n&&n.useSelect&&a.blur(),e(".ui-timepicker-wrapper").each(function(){var i=e(this);if(t(i)){var a=i.data("timepicker-input"),n=a.data("timepicker-settings");n&&n.selectOnBlur&&g(a),i.hide(),a.trigger("hideTimepicker")}}),this},option:function(t,n){return"string"==typeof t&&"undefined"==typeof n?e(this).data("timepicker-settings")[t]:this.each(function(){var s=e(this),r=s.data("timepicker-settings"),o=s.data("timepicker-list");"object"==typeof t?r=e.extend(r,t):"string"==typeof t&&(r[t]=n),r=i(r),s.data("timepicker-settings",r),o&&(o.remove(),s.data("timepicker-list",!1)),r.useSelect&&a(s)})},getSecondsFromMidnight:function(){return y(c(this))},getTime:function(e){var t=this,i=c(t);if(!i)return null;var a=y(i);if(null===a)return null;e||(e=new Date);var n=new Date(e);return n.setHours(a/3600),n.setMinutes(a%3600/60),n.setSeconds(a%60),n.setMilliseconds(0),n},isVisible:function(){var e=this,i=e.data("timepicker-list");return!(!i||!t(i))},setTime:function(e){var t=this,i=t.data("timepicker-settings");if(i.forceRoundTime)var a=s(y(e),i);else var a=D(y(e),i);return e&&null===a&&i.noneOption&&(a=e),u(t,a),t.data("timepicker-list")&&d(t,t.data("timepicker-list")),this},remove:function(){var e=this;if(e.hasClass("ui-timepicker-input")){var t=e.data("timepicker-settings");return e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),t.useSelect&&e.show(),e.removeData("timepicker-list"),this}}};e.fn.timepicker=function(t){return this.length?w[t]?this.hasClass("ui-timepicker-input")?w[t].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.timepicker"):w.init.apply(this,arguments):this},e.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,t){if(null===e)return null;if("number"!=typeof t.step)return e;var i=e%(60*t.step);return i>=30*t.step?e+=60*t.step-i:e-=i,e==k&&t.show2400?e:e%k},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}});var m=angular.module("ui.timepicker",[]);m.value("uiTimepickerConfig",{step:15}),m.directive("uiTimepicker",["uiTimepickerConfig","$parse","$window",function(e,t,i){var a=i.moment,n=function(e){return void 0!==a&&a.isMoment(e)&&e.isValid()},s=function(e){return null!==e&&(angular.isDate(e)||n(e))};return{restrict:"A",require:"ngModel",scope:{ngModel:"=",baseDate:"=",uiTimepicker:"="},priority:1,link:function(t,i,r,o){"use strict";var l=angular.copy(e),d=l.asMoment||!1;delete l.asMoment,o.$render=function(){var e=o.$modelValue;if(angular.isDefined(e)){if(null!==e&&""!==e&&!s(e))throw new Error("ng-Model value must be a Date or Moment object - currently it is a "+typeof e+".");n(e)&&(e=e.toDate()),i.is(":focus")||u()||i.timepicker("setTime",e),null===e&&h()}},t.$watch("ngModel",function(){o.$render()},!0),l.appendTo=l.appendTo||i.parent(),i.timepicker(angular.extend(l,t.uiTimepicker?t.uiTimepicker:{}));var h=function(){i.timepicker("setTime",null)},c=function(){return i.val().trim()},u=function(){return c()&&null===o.$modelValue};i.on("$destroy",function(){i.timepicker("remove")});var p=function(){var e=o.$modelValue?o.$modelValue:t.baseDate;return n(e)?e.toDate():e},m=function(e){return d?a(e):e};i.is("input")?(o.$parsers.unshift(function(e){var t=i.timepicker("getTime",p());return t?m(t):t}),o.$validators.time=function(e){return r.required||c()?s(e):!0}):i.on("changeTime",function(){t.$evalAsync(function(){var e=i.timepicker("getTime",p());o.$setViewValue(e)})})}}}]),!function(e,t){"use strict";function i(e,t){var i=t||{};for(var a in e)a in i||(i[a]=e[a]);return i}function a(e,i){if(o)o(e).trigger(i);else{var a=t.createEvent("CustomEvent");a.initCustomEvent(i,!0,!0,{}),e.dispatchEvent(a)}}function n(e,t){return o?o(e).hasClass(t):e.classList.contains(t)}function s(e,t){this.dateDelta=null,this.timeDelta=null,this._defaults={startClass:"start",endClass:"end",timeClass:"time",dateClass:"date",defaultDateDelta:0,defaultTimeDelta:36e5,anchor:"start",parseTime:function(e){return o(e).timepicker("getTime")},updateTime:function(e,t){o(e).timepicker("setTime",t)},setMinTime:function(e,t){o(e).timepicker("option","minTime",t)},parseDate:function(e){return e.value&&o(e).datepicker("getDate")},updateDate:function(e,t){o(e).datepicker("update",t)}},this.container=e,this.settings=i(this._defaults,t),this.startDateInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.dateClass),this.endDateInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.dateClass),this.startTimeInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.timeClass),this.endTimeInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.timeClass),this.refresh(),this._bindChangeHandler()}var r=864e5,o=e.Zepto||e.jQuery;s.prototype={constructor:s,option:function(e,t){if("object"==typeof e)this.settings=i(this.settings,e);else if("string"==typeof e&&"undefined"!=typeof t)this.settings[e]=t;else if("string"==typeof e)return this.settings[e];this._updateEndMintime()},getTimeDiff:function(){var e=this.dateDelta+this.timeDelta;return!(0>e)||this.startDateInput&&this.endDateInput||(e+=r),e},refresh:function(){if(this.startDateInput&&this.startDateInput.value&&this.endDateInput&&this.endDateInput.value){var e=this.settings.parseDate(this.startDateInput),t=this.settings.parseDate(this.endDateInput);e&&t&&(this.dateDelta=t.getTime()-e.getTime())}if(this.startTimeInput&&this.startTimeInput.value&&this.endTimeInput&&this.endTimeInput.value){var i=this.settings.parseTime(this.startTimeInput),a=this.settings.parseTime(this.endTimeInput);i&&a&&(this.timeDelta=a.getTime()-i.getTime(),this._updateEndMintime())}},remove:function(){this._unbindChangeHandler()},_bindChangeHandler:function(){o?o(this.container).on("change.datepair",o.proxy(this.handleEvent,this)):this.container.addEventListener("change",this,!1)},_unbindChangeHandler:function(){o?o(this.container).off("change.datepair"):this.container.removeEventListener("change",this,!1)},handleEvent:function(e){this._unbindChangeHandler(),n(e.target,this.settings.dateClass)?""!=e.target.value?(this._dateChanged(e.target),this._timeChanged(e.target)):this.dateDelta=null:n(e.target,this.settings.timeClass)&&(""!=e.target.value?this._timeChanged(e.target):this.timeDelta=null),this._validateRanges(),this._updateEndMintime(),this._bindChangeHandler()},_dateChanged:function(e){if(this.startDateInput&&this.endDateInput){var t=this.settings.parseDate(this.startDateInput),i=this.settings.parseDate(this.endDateInput);if(t&&i)if("start"==this.settings.anchor&&n(e,this.settings.startClass)){var a=new Date(t.getTime()+this.dateDelta);this.settings.updateDate(this.endDateInput,a)}else if("end"==this.settings.anchor&&n(e,this.settings.endClass)){var a=new Date(i.getTime()-this.dateDelta);this.settings.updateDate(this.startDateInput,a)}else if(t>i){var s=n(e,this.settings.startClass)?this.endDateInput:this.startDateInput,o=this.settings.parseDate(e);this.dateDelta=0,this.settings.updateDate(s,o)}else this.dateDelta=i.getTime()-t.getTime();else if(null!==this.settings.defaultDateDelta){if(t){var l=new Date(t.getTime()+this.settings.defaultDateDelta*r);this.settings.updateDate(this.endDateInput,l)}else if(i){var d=new Date(i.getTime()-this.settings.defaultDateDelta*r);this.settings.updateDate(this.startDateInput,d)}this.dateDelta=this.settings.defaultDateDelta*r}else this.dateDelta=null}},_timeChanged:function(e){if(this.startTimeInput&&this.endTimeInput){var t=this.settings.parseTime(this.startTimeInput),i=this.settings.parseTime(this.endTimeInput);if(t&&i)if("start"==this.settings.anchor&&n(e,this.settings.startClass)){var a=new Date(t.getTime()+this.timeDelta);this.settings.updateTime(this.endTimeInput,a),i=this.settings.parseTime(this.endTimeInput),this._doMidnightRollover(t,i)}else if("end"==this.settings.anchor&&n(e,this.settings.endClass)){var a=new Date(i.getTime()-this.timeDelta);this.settings.updateTime(this.startTimeInput,a),t=this.settings.parseTime(this.startTimeInput),this._doMidnightRollover(t,i)}else{this._doMidnightRollover(t,i);var s,r;if(this.startDateInput&&this.endDateInput&&(s=this.settings.parseDate(this.startDateInput),r=this.settings.parseDate(this.endDateInput)),+s==+r&&t>i){var o=n(e,this.settings.endClass)?this.endTimeInput:this.startTimeInput,l=n(e,this.settings.startClass)?this.endTimeInput:this.startTimeInput,d=this.settings.parseTime(o);this.timeDelta=0,this.settings.updateTime(l,d)}else this.timeDelta=i.getTime()-t.getTime()}else if(null!==this.settings.defaultTimeDelta){if(t){var h=new Date(t.getTime()+this.settings.defaultTimeDelta);this.settings.updateTime(this.endTimeInput,h)}else if(i){var c=new Date(i.getTime()-this.settings.defaultTimeDelta);this.settings.updateTime(this.startTimeInput,c)}this.timeDelta=this.settings.defaultTimeDelta}else this.timeDelta=null}},_doMidnightRollover:function(e,t){if(this.startDateInput&&this.endDateInput){var i=this.settings.parseDate(this.endDateInput),a=this.settings.parseDate(this.startDateInput),n=t.getTime()-e.getTime(),s=e>t?r:-1*r;null!==this.dateDelta&&this.dateDelta+this.timeDelta<=r&&this.dateDelta+n!=0&&(s>0||0!=this.dateDelta)&&(n>=0&&this.timeDelta<0||0>n&&this.timeDelta>=0)&&("start"==this.settings.anchor?(this.settings.updateDate(this.endDateInput,new Date(i.getTime()+s)),this._dateChanged(this.endDateInput)):"end"==this.settings.anchor&&(this.settings.updateDate(this.startDateInput,new Date(a.getTime()-s)),this._dateChanged(this.startDateInput))),this.timeDelta=n}},_updateEndMintime:function(){if("function"==typeof this.settings.setMinTime){var e=null;"start"==this.settings.anchor&&(!this.dateDelta||this.dateDelta<r||this.timeDelta&&this.dateDelta+this.timeDelta<r)&&(e=this.settings.parseTime(this.startTimeInput)),this.settings.setMinTime(this.endTimeInput,e)}},_validateRanges:function(){return this.startTimeInput&&this.endTimeInput&&null===this.timeDelta?void a(this.container,"rangeIncomplete"):this.startDateInput&&this.endDateInput&&null===this.dateDelta?void a(this.container,"rangeIncomplete"):void(!this.startDateInput||!this.endDateInput||this.dateDelta+this.timeDelta>=0?a(this.container,"rangeSelected"):a(this.container,"rangeError"))}},e.Datepair=s}(window,document),!function(e,t){"use strict";function i(e,t){var i=t||{};for(var a in e)a in i||(i[a]=e[a]);return i}function a(e,i){if(o)o(e).trigger(i);else{var a=t.createEvent("CustomEvent");a.initCustomEvent(i,!0,!0,{}),e.dispatchEvent(a)}}function n(e,t){return o?o(e).hasClass(t):e.classList.contains(t)}function s(e,t){this.dateDelta=null,this.timeDelta=null,this._defaults={startClass:"start",endClass:"end",timeClass:"time",dateClass:"date",defaultDateDelta:0,defaultTimeDelta:36e5,anchor:"start",parseTime:function(e){return o(e).timepicker("getTime")},updateTime:function(e,t){o(e).timepicker("setTime",t)},setMinTime:function(e,t){o(e).timepicker("option","minTime",t)},parseDate:function(e){return e.value&&o(e).datepicker("getDate")},updateDate:function(e,t){o(e).datepicker("update",t)}},this.container=e,this.settings=i(this._defaults,t),this.startDateInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.dateClass),this.endDateInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.dateClass),this.startTimeInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.timeClass),this.endTimeInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.timeClass),this.refresh(),this._bindChangeHandler()}var r=864e5,o=e.Zepto||e.jQuery;s.prototype={constructor:s,option:function(e,t){if("object"==typeof e)this.settings=i(this.settings,e);else if("string"==typeof e&&"undefined"!=typeof t)this.settings[e]=t;else if("string"==typeof e)return this.settings[e];this._updateEndMintime()},getTimeDiff:function(){var e=this.dateDelta+this.timeDelta;return!(0>e)||this.startDateInput&&this.endDateInput||(e+=r),e},refresh:function(){if(this.startDateInput&&this.startDateInput.value&&this.endDateInput&&this.endDateInput.value){var e=this.settings.parseDate(this.startDateInput),t=this.settings.parseDate(this.endDateInput);e&&t&&(this.dateDelta=t.getTime()-e.getTime())}if(this.startTimeInput&&this.startTimeInput.value&&this.endTimeInput&&this.endTimeInput.value){var i=this.settings.parseTime(this.startTimeInput),a=this.settings.parseTime(this.endTimeInput);i&&a&&(this.timeDelta=a.getTime()-i.getTime(),this._updateEndMintime())}},remove:function(){this._unbindChangeHandler()},_bindChangeHandler:function(){o?o(this.container).on("change.datepair",o.proxy(this.handleEvent,this)):this.container.addEventListener("change",this,!1)},_unbindChangeHandler:function(){o?o(this.container).off("change.datepair"):this.container.removeEventListener("change",this,!1)},handleEvent:function(e){this._unbindChangeHandler(),n(e.target,this.settings.dateClass)?""!=e.target.value?(this._dateChanged(e.target),this._timeChanged(e.target)):this.dateDelta=null:n(e.target,this.settings.timeClass)&&(""!=e.target.value?this._timeChanged(e.target):this.timeDelta=null),this._validateRanges(),this._updateEndMintime(),this._bindChangeHandler()},_dateChanged:function(e){if(this.startDateInput&&this.endDateInput){var t=this.settings.parseDate(this.startDateInput),i=this.settings.parseDate(this.endDateInput);if(t&&i)if("start"==this.settings.anchor&&n(e,this.settings.startClass)){var a=new Date(t.getTime()+this.dateDelta);this.settings.updateDate(this.endDateInput,a)}else if("end"==this.settings.anchor&&n(e,this.settings.endClass)){var a=new Date(i.getTime()-this.dateDelta);this.settings.updateDate(this.startDateInput,a)}else if(t>i){var s=n(e,this.settings.startClass)?this.endDateInput:this.startDateInput,o=this.settings.parseDate(e);this.dateDelta=0,this.settings.updateDate(s,o)}else this.dateDelta=i.getTime()-t.getTime();else if(null!==this.settings.defaultDateDelta){if(t){var l=new Date(t.getTime()+this.settings.defaultDateDelta*r);this.settings.updateDate(this.endDateInput,l)}else if(i){var d=new Date(i.getTime()-this.settings.defaultDateDelta*r);this.settings.updateDate(this.startDateInput,d)}this.dateDelta=this.settings.defaultDateDelta*r}else this.dateDelta=null}},_timeChanged:function(e){if(this.startTimeInput&&this.endTimeInput){var t=this.settings.parseTime(this.startTimeInput),i=this.settings.parseTime(this.endTimeInput);if(t&&i)if("start"==this.settings.anchor&&n(e,this.settings.startClass)){var a=new Date(t.getTime()+this.timeDelta);this.settings.updateTime(this.endTimeInput,a),i=this.settings.parseTime(this.endTimeInput),this._doMidnightRollover(t,i)}else if("end"==this.settings.anchor&&n(e,this.settings.endClass)){var a=new Date(i.getTime()-this.timeDelta);this.settings.updateTime(this.startTimeInput,a),t=this.settings.parseTime(this.startTimeInput),this._doMidnightRollover(t,i)}else{this._doMidnightRollover(t,i);var s,r;if(this.startDateInput&&this.endDateInput&&(s=this.settings.parseDate(this.startDateInput),r=this.settings.parseDate(this.endDateInput)),+s==+r&&t>i){var o=n(e,this.settings.endClass)?this.endTimeInput:this.startTimeInput,l=n(e,this.settings.startClass)?this.endTimeInput:this.startTimeInput,d=this.settings.parseTime(o);this.timeDelta=0,this.settings.updateTime(l,d)}else this.timeDelta=i.getTime()-t.getTime()}else if(null!==this.settings.defaultTimeDelta){if(t){var h=new Date(t.getTime()+this.settings.defaultTimeDelta);this.settings.updateTime(this.endTimeInput,h)}else if(i){var c=new Date(i.getTime()-this.settings.defaultTimeDelta);this.settings.updateTime(this.startTimeInput,c)}this.timeDelta=this.settings.defaultTimeDelta}else this.timeDelta=null}},_doMidnightRollover:function(e,t){if(this.startDateInput&&this.endDateInput){var i=this.settings.parseDate(this.endDateInput),a=this.settings.parseDate(this.startDateInput),n=t.getTime()-e.getTime(),s=e>t?r:-1*r;null!==this.dateDelta&&this.dateDelta+this.timeDelta<=r&&this.dateDelta+n!=0&&(s>0||0!=this.dateDelta)&&(n>=0&&this.timeDelta<0||0>n&&this.timeDelta>=0)&&("start"==this.settings.anchor?(this.settings.updateDate(this.endDateInput,new Date(i.getTime()+s)),this._dateChanged(this.endDateInput)):"end"==this.settings.anchor&&(this.settings.updateDate(this.startDateInput,new Date(a.getTime()-s)),this._dateChanged(this.startDateInput))),this.timeDelta=n}},_updateEndMintime:function(){if("function"==typeof this.settings.setMinTime){var e=null;"start"==this.settings.anchor&&(!this.dateDelta||this.dateDelta<r||this.timeDelta&&this.dateDelta+this.timeDelta<r)&&(e=this.settings.parseTime(this.startTimeInput)),this.settings.setMinTime(this.endTimeInput,e)}},_validateRanges:function(){return this.startTimeInput&&this.endTimeInput&&null===this.timeDelta?void a(this.container,"rangeIncomplete"):this.startDateInput&&this.endDateInput&&null===this.dateDelta?void a(this.container,"rangeIncomplete"):void(!this.startDateInput||!this.endDateInput||this.dateDelta+this.timeDelta>=0?a(this.container,"rangeSelected"):a(this.container,"rangeError"))}},e.Datepair=s}(window,document),function(e){e&&(e.fn.datepair=function(t){var i;return this.each(function(){var a=e(this),n=a.data("datepair"),s="object"==typeof t&&t;n||(n=new Datepair(this,s),a.data("datepair",n)),"string"==typeof t&&(i=n[t]())}),i||this},e("[data-datepair]").each(function(){var t=e(this);t.datepair(t.data())}))}(window.Zepto||window.jQuery);